import{r as l,a as wt,R as Vt}from"./react-b1791c80.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var St={exports:{}},ze={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qt=l,Zt=Symbol.for("react.element"),Xt=Symbol.for("react.fragment"),es=Object.prototype.hasOwnProperty,ts=Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ss={key:!0,ref:!0,__self:!0,__source:!0};function Ct(t,s,r){var a,n={},i=null,c=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(c=s.ref);for(a in s)es.call(s,a)&&!ss.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:Zt,type:t,key:i,ref:c,props:n,_owner:ts.current}}ze.Fragment=Xt;ze.jsx=Ct;ze.jsxs=Ct;St.exports=ze;var e=St.exports,qe={},ot=wt;qe.createRoot=ot.createRoot,qe.hydrateRoot=ot.hydrateRoot;const ge={appTitle:"Senior Project Jury Portal",courseName:"EE 491 / EE 492 ‚Äî Senior Project",department:"Electrical & Electronics Engineering",university:"TED University",scriptUrl:"https://script.google.com/macros/s/AKfycbyQK792Cd5-3X7mpqd-LwOuFlvB8MbreTXDqY9KLgTTl7hw9GBCzNtZ3C1aS89R9lARCA/exec",apiSecret:"1feadbeca9e48b24f89ceaef7fa52e7a6d44f90e6167f549",showStudents:!0},K=[{id:1,name:"Group 1",desc:"G√∂ksiper Hava Savunma Sistemi",students:["Mustafa Yusuf √únal","Ay√ßa Naz Dedeoƒülu","Onur Mesci","√áaƒüan Erdoƒüan"]},{id:2,name:"Group 2",desc:"Radome and Radar-Absorbing Material Electromagnetic Design Software (REMDET)",students:["Niyazi Atilla √ñzer","Bertan √únver","Ada Tatlƒ±","Nesibe Aydƒ±n"]},{id:3,name:"Group 3",desc:"Smart Crosswalk",students:["Sami Eren Germe√ß"]},{id:4,name:"Group 4",desc:"Radar Cross Section (RCS) Analysis ‚Äî Supporting Multi-Purpose Ray Tracing Algorithm",students:["Ahmet Melih Yavuz","Yasemin Erciyas"]},{id:5,name:"Group 5",desc:"Monitoring Pilots' Health Status and Cognitive Abilities During Flight",students:["Aysel Mine √áaylan","Selimhan Kaynar","Abdulkadir Sazlƒ±","Alp Efe ƒ∞pek"]},{id:6,name:"Group 6",desc:"AKKE ‚Äî Smart Command and Control Glove",students:["≈ûevval Kurtulmu≈ü","Abdullah Esin","Berk √áakmak","√ñmer Efe Dikici"]}],ne=[{id:"technical",label:"Technical Content",shortLabel:"Technical",color:"#F59E0B",mudek:["1.2","2","3.1","3.2"],max:30,rubric:[{range:"27‚Äì30",level:"Excellent",min:27,max:30,desc:"Problem is clearly defined with strong motivation. Design decisions are well-justified with engineering depth. Originality and mastery of relevant tools or methods are evident."},{range:"21‚Äì26",level:"Good",min:21,max:26,desc:"Design is mostly clear and technically justified. Engineering decisions are largely supported."},{range:"13‚Äì20",level:"Developing",min:13,max:20,desc:"Problem is stated but motivation or technical justification is insufficient."},{range:"0‚Äì12",level:"Insufficient",min:0,max:12,desc:"Vague problem definition and unjustified decisions. Superficial technical content."}]},{id:"design",label:"Written Communication",shortLabel:"Written",color:"#22C55E",mudek:["9.2"],max:30,rubric:[{range:"27‚Äì30",level:"Excellent",min:27,max:30,desc:"Poster layout is intuitive with clear information flow. Visuals are fully labelled and high quality. Technical content is presented in a way that is accessible to both technical and non-technical readers."},{range:"21‚Äì26",level:"Good",min:21,max:26,desc:"Layout is mostly logical. Visuals are readable with minor gaps. Technical content is largely clear with small areas for improvement."},{range:"13‚Äì20",level:"Developing",min:13,max:20,desc:"Occasional gaps in information flow. Some visuals are missing labels or captions. Technical content is only partially communicated."},{range:"0‚Äì12",level:"Insufficient",min:0,max:12,desc:"Confusing layout. Low-quality or unlabelled visuals. Technical content is unclear or missing."}]},{id:"delivery",label:"Oral Communication",shortLabel:"Oral",color:"#3B82F6",mudek:["9.1"],max:30,rubric:[{range:"27‚Äì30",level:"Excellent",min:27,max:30,desc:"Presentation is consciously adapted for both technical and non-technical jury members. Q&A responses are accurate, clear, and audience-appropriate."},{range:"21‚Äì26",level:"Good",min:21,max:26,desc:"Presentation is mostly clear and well-paced. Most questions answered correctly. Audience adaptation is generally evident."},{range:"13‚Äì20",level:"Developing",min:13,max:20,desc:"Understandable but inconsistent. Limited audience adaptation. Time management or Q&A depth needs improvement."},{range:"0‚Äì12",level:"Insufficient",min:0,max:12,desc:"Unclear or disorganised presentation. Most questions answered incorrectly or not at all."}]},{id:"teamwork",label:"Teamwork",shortLabel:"Teamwork",color:"#EF4444",mudek:["8.1","8.2"],max:10,rubric:[{range:"9‚Äì10",level:"Excellent",min:9,max:10,desc:"All members participate actively and equally. Professional and ethical conduct observed throughout."},{range:"7‚Äì8",level:"Good",min:7,max:8,desc:"Most members contribute. Minor knowledge gaps. Professionalism mostly observed."},{range:"4‚Äì6",level:"Developing",min:4,max:6,desc:"Uneven participation. Some members are passive or unprepared."},{range:"0‚Äì3",level:"Insufficient",min:0,max:3,desc:"Very low participation or dominated by one person. Lack of professionalism observed."}]}],lt=70,ns={Excellent:{bg:"#DCFCE7",text:"#16A34A"},Good:{bg:"#F7FEE7",text:"#65A30D"},Developing:{bg:"#FEF9C3",text:"#CA8A04"},Insufficient:{bg:"#FEE2E2",text:"#DC2626"}},rs={"1.1":{en:"Knowledge in mathematics, natural sciences, fundamental engineering, computational methods, and discipline-specific topics.",tr:"Matematik, fen bilimleri, temel m√ºhendislik, bilgisayarla hesaplama ve ilgili m√ºhendislik disiplinine √∂zg√º konularda bilgi."},"1.2":{en:"Ability to apply knowledge of mathematics, natural sciences, fundamental engineering, computation, and discipline-specific topics to solve complex engineering problems.",tr:"Matematik, fen bilimleri, temel m√ºhendislik, bilgisayarla hesaplama ve ilgili m√ºhendislik disiplinine √∂zg√º konulardaki bilgileri, karma≈üƒ±k m√ºhendislik problemlerinin √ß√∂z√ºm√ºnde kullanabilme becerisi."},2:{en:"Ability to identify, formulate, and analyse complex engineering problems using fundamental science, mathematics, and engineering knowledge, with consideration of relevant UN Sustainable Development Goals.",tr:"Karma≈üƒ±k m√ºhendislik problemlerini, temel bilim, matematik ve m√ºhendislik bilgilerini kullanarak ve ele alƒ±nan problemle ilgili BM S√ºrd√ºr√ºlebilir Kalkƒ±nma Ama√ßlarƒ±nƒ± g√∂zetarak tanƒ±mlama, form√ºle etme ve analiz becerisi."},"3.1":{en:"Ability to design creative solutions to complex engineering problems.",tr:"Karma≈üƒ±k m√ºhendislik problemlerine yaratƒ±cƒ± √ß√∂z√ºmler tasarlama becerisi."},"3.2":{en:"Ability to design complex systems, processes, devices, or products under realistic constraints and conditions, meeting current and future requirements.",tr:"Karma≈üƒ±k sistemleri, s√ºre√ßleri, cihazlarƒ± veya √ºr√ºnleri ger√ßek√ßi kƒ±sƒ±tlarƒ± ve ko≈üullarƒ± g√∂zetarak, mevcut ve gelecekteki gereksinimleri kar≈üƒ±layacak bi√ßimde tasarlama becerisi."},4:{en:"Ability to select and use appropriate techniques, resources, and modern engineering and IT tools ‚Äî including estimation and modelling ‚Äî for the analysis and solution of complex engineering problems, with awareness of their limitations.",tr:"Karma≈üƒ±k m√ºhendislik problemlerinin analizi ve √ß√∂z√ºm√ºne y√∂nelik, tahmin ve modelleme de dahil olmak √ºzere, uygun teknikleri, kaynaklarƒ± ve modern m√ºhendislik ve bili≈üim ara√ßlarƒ±nƒ±, sƒ±nƒ±rlamalarƒ±nƒ±n da farkƒ±nda olarak se√ßme ve kullanma becerisi."},5:{en:"Ability to use research methods for investigating complex engineering problems, including literature review, experiment design, experimentation, data collection, and analysis and interpretation of results.",tr:"Karma≈üƒ±k m√ºhendislik problemlerinin incelenmesi i√ßin literat√ºr ara≈ütƒ±rmasƒ±, deney tasarlama, deney yapma, veri toplama, sonu√ßlarƒ± analiz etme ve yorumlama dahil, ara≈ütƒ±rma y√∂ntemlerini kullanma becerisi."},"6.1":{en:"Knowledge of the impacts of engineering applications on society, health and safety, economy, sustainability, and the environment within the scope of UN Sustainable Development Goals.",tr:"M√ºhendislik uygulamalarƒ±nƒ±n BM S√ºrd√ºr√ºlebilir Kalkƒ±nma Ama√ßlarƒ± kapsamƒ±nda, topluma, saƒülƒ±k ve g√ºvenliƒüe, ekonomiye, s√ºrd√ºr√ºlebilirlik ve √ßevreye etkileri hakkƒ±nda bilgi."},"6.2":{en:"Awareness of the legal consequences of engineering solutions.",tr:"M√ºhendislik √ß√∂z√ºmlerinin hukuksal sonu√ßlarƒ± konusunda farkƒ±ndalƒ±k."},"7.1":{en:"Knowledge of acting in accordance with engineering professional principles and ethical responsibility.",tr:"M√ºhendislik meslek ilkelerine uygun davranma, etik sorumluluk hakkƒ±nda bilgi."},"7.2":{en:"Awareness of non-discrimination, impartiality, and inclusivity of diversity.",tr:"Hi√ßbir konuda ayrƒ±mcƒ±lƒ±k yapmadan, tarafsƒ±z davranma ve √ße≈üitliliƒüi kapsayƒ±cƒ± olma konularƒ±nda farkƒ±ndalƒ±k."},"8.1":{en:"Ability to work effectively as a team member or leader in intra-disciplinary teams (in-person, remote, or hybrid).",tr:"Bireysel olarak disiplin i√ßi takƒ±m √ßalƒ±≈ümalarƒ±nda (y√ºz y√ºze, uzaktan veya karma) takƒ±m √ºyesi veya lideri olarak etkin bi√ßimde √ßalƒ±≈üabilme becerisi."},"8.2":{en:"Ability to work effectively as a team member or leader in multidisciplinary teams (in-person, remote, or hybrid).",tr:"Bireysel olarak √ßok disiplinli takƒ±mlarda (y√ºz y√ºze, uzaktan veya karma) takƒ±m √ºyesi veya lideri olarak etkin bi√ßimde √ßalƒ±≈üabilme becerisi."},"9.1":{en:"Ability to communicate effectively on technical topics orally, adapting to audience differences (education, language, profession, etc.).",tr:"Hedef kitlenin √ße≈üitli farklƒ±lƒ±klarƒ±nƒ± (eƒüitim, dil, meslek gibi) dikkate alarak, teknik konularda s√∂zl√º etkin ileti≈üim kurma becerisi."},"9.2":{en:"Ability to communicate effectively on technical topics in writing, adapting to audience differences (education, language, profession, etc.).",tr:"Hedef kitlenin √ße≈üitli farklƒ±lƒ±klarƒ±nƒ± (eƒüitim, dil, meslek gibi) dikkate alarak, teknik konularda yazƒ±lƒ± etkin ileti≈üim kurma becerisi."},"10.1":{en:"Knowledge of business practices such as project management and economic feasibility analysis.",tr:"Proje y√∂netimi ve ekonomik yapƒ±labilirlik analizi gibi i≈ü hayatƒ±ndaki uygulamalar hakkƒ±nda bilgi."},"10.2":{en:"Awareness of entrepreneurship and innovation.",tr:"Giri≈üimcilik ve yenilik√ßilik hakkƒ±nda farkƒ±ndalƒ±k."},11:{en:"Lifelong learning skills including independent and continuous learning, adaptation to new and emerging technologies, and critical thinking about technological change.",tr:"Baƒüƒ±msƒ±z ve s√ºrekli √∂ƒürenebilme, yeni ve geli≈ümekte olan teknolojilere uyum saƒülayabilme ve teknolojik deƒüi≈üimlerle ilgili sorgulayƒ±cƒ± d√º≈ü√ºnebilmeyi kapsayan ya≈üam boyu √∂ƒürenme becerisi."}};ne.reduce((t,s)=>t+(Number(s.max)||0),0);const Lt=ge==null?void 0:ge.scriptUrl,et=ge==null?void 0:ge.apiSecret;function ct(t,s){const r=t.trim().toLowerCase()+"__"+s.trim().toLowerCase();let a=5381;for(let n=0;n<r.length;n++)a=(a<<5)+a^r.charCodeAt(n),a=a>>>0;return a.toString(16).padStart(8,"0")}let tt="";function dt(t){tt=t}function We(){return tt}function ut(){tt=""}async function ye(t){const s=We();try{await fetch(Lt,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,token:s})})}catch{}}async function Se(t){const s=new URLSearchParams(t).toString(),r=await fetch(`${Lt}?${s}`,{cache:"no-store"});if(!r.ok)throw new Error(`HTTP ${r.status}`);const a=(await r.text()).trim();if(a.toLowerCase().startsWith("<html"))throw new Error("Received HTML from Apps Script ‚Äî check your deployment URL.");try{return JSON.parse(a)}catch{throw new Error("Apps Script returned invalid JSON.")}}async function Mt(t){return Se({...t,token:We()})}function Le(t,s,r,a,n,i,c){var f,x,p,o;return{juryName:t,juryDept:s,jurorId:r,timestamp:new Date().toISOString(),projectId:i.id,projectName:i.name,technical:((f=a[i.id])==null?void 0:f.technical)??"",design:((x=a[i.id])==null?void 0:x.design)??"",delivery:((p=a[i.id])==null?void 0:p.delivery)??"",teamwork:((o=a[i.id])==null?void 0:o.teamwork)??"",total:as(a,i.id),comments:n[i.id]||"",status:c}}function as(t,s){return ne.reduce((r,a)=>{var n;return r+(parseInt((n=t[s])==null?void 0:n[a.id],10)||0)},0)}async function is(t){return Se({action:"checkPin",jurorId:t,secret:et})}async function os(t,s,r){return Se({action:"createPin",jurorId:t,juryName:s.trim(),juryDept:r.trim(),secret:et})}async function ls(t,s){return Se({action:"verifyPin",jurorId:t,pin:String(s).trim(),secret:et})}async function mt(){const t=await Mt({action:"myscores"});if(t.status==="unauthorized"){const s=new Error("unauthorized");throw s.unauthorized=!0,s}return t.status!=="ok"?null:t.rows||[]}async function ht(){return Mt({action:"ping"})}const pt=1500,Ae=()=>Object.fromEntries(K.map(t=>[t.id,Object.fromEntries(ne.map(s=>[s.id,""]))])),Fe=()=>Object.fromEntries(K.map(t=>[t.id,""])),xt=()=>Object.fromEntries(K.map(t=>[t.id,Object.fromEntries(ne.map(s=>[s.id,!1]))])),cs=()=>Object.fromEntries(K.map(t=>[t.id,Object.fromEntries(ne.map(s=>[s.id,!0]))])),we=(t,s)=>ne.every(r=>{var a;return((a=t[s])==null?void 0:a[r.id])!==""}),jt=t=>K.every(s=>we(t,s.id)),Et=t=>K.reduce((s,r)=>s+ne.reduce((a,n)=>{var i;return a+(((i=t[r.id])==null?void 0:i[n.id])!==""?1:0)},0),0),ds=(t,s)=>ne.some(r=>{var a;return((a=t[s])==null?void 0:a[r.id])!==""});function He(t){const s=Ae(),r=Fe();return(t||[]).forEach(a=>{const n=Number(a.projectId);n&&(s[n]={...s[n],technical:a.technical??"",design:a.design??"",delivery:a.delivery??"",teamwork:a.teamwork??""},r[n]=a.comments??"")}),{scores:s,comments:r}}function us(){const[t,s]=l.useState(""),[r,a]=l.useState(""),n=l.useRef("");l.useEffect(()=>{n.current=t.trim()&&r.trim()?ct(t,r):""},[t,r]);const[i,c]=l.useState("info"),[f,x]=l.useState(0),[p,o]=l.useState(Ae),[m,h]=l.useState(Fe),[j,N]=l.useState(xt),[w,u]=l.useState({}),[S,g]=l.useState(!1),[b,A]=l.useState(null),[P,k]=l.useState(null),[y,v]=l.useState(null),[L,I]=l.useState("idle"),[C,T]=l.useState("idle"),[Y,z]=l.useState(""),[re,q]=l.useState(""),[ee,G]=l.useState(3),[se,xe]=l.useState(!1),[ve,ue]=l.useState(""),ae=l.useRef(!1),oe=l.useRef({});oe.current={juryName:t,juryDept:r,scores:p,comments:m,groupSynced:w,current:f};const te=l.useRef(p),le=l.useRef(m),de=l.useCallback(E=>{const{juryName:D,juryDept:R}=oe.current,O=n.current,J=te.current,U=le.current;if(!D.trim()||!O||!We()||!ds(J,E))return;const pe=K.find(Ut=>Ut.id===E);if(!pe)return;const Re=we(J,E)?"group_submitted":"in_progress",qt=Le(D,R,O,J,U,pe,Re);I("saving"),ye({rows:[qt]}),setTimeout(()=>I("saved"),500),setTimeout(()=>I("idle"),2500)},[]),Ne=l.useCallback(E=>{var O;const{current:D}=oe.current,R=(O=K[D])==null?void 0:O.id;R!==void 0&&de(R),x(E)},[de]);l.useEffect(()=>{if(i!=="eval"||S)return;const E={};K.forEach(D=>{!w[D.id]&&we(p,D.id)&&(E[D.id]=!0)}),Object.keys(E).length>0&&u(D=>({...D,...E}))},[p,i,w,S]),l.useEffect(()=>{if(i!=="eval"||ae.current||S||!K.every(D=>w[D.id]))return;ae.current=!0;const E=setTimeout(()=>{const{juryName:D,juryDept:R,scores:O,comments:J}=oe.current,U=n.current;ye({rows:K.map(pe=>Le(D,R,U,O,J,pe,"all_submitted"))}),A({...O}),k({...J}),c("done")},800);return()=>clearTimeout(E)},[w,i,S]);const je=l.useCallback((E,D,R)=>{const O={...te.current,[E]:{...te.current[E],[D]:R}};te.current=O,o(O),N(J=>({...J,[E]:{...J[E],[D]:!0}})),R===""&&w[E]&&u(J=>({...J,[E]:!1}))},[w]),ce=l.useCallback((E,D)=>{var J;const R=ne.find(U=>U.id===D),O=(J=te.current[E])==null?void 0:J[D];if(N(U=>({...U,[E]:{...U[E],[D]:!0}})),O!==""&&O!==void 0){const U=parseInt(O,10),pe=Number.isFinite(U)?Math.min(Math.max(U,0),R.max):0;if(String(pe)!==String(O)){const Re={...te.current,[E]:{...te.current[E],[D]:pe}};te.current=Re,o(Re)}}de(E)},[de]),me=l.useCallback((E,D)=>{const R={...le.current,[E]:D};le.current=R,h(R)},[]),M=l.useCallback(E=>{de(E)},[de]),$=l.useCallback((E,D)=>{const{juryName:R,juryDept:O}=oe.current,J=n.current;ye({rows:K.map(U=>Le(R,O,J,E,D,U,"all_submitted"))}),A({...E}),k({...D}),g(!1),ae.current=!0,c("done")},[]),V=l.useCallback(async()=>{const{juryName:E,juryDept:D}=oe.current,R=n.current,O=b||p,J=P||m;R&&ye({action:"resetJuror"}),te.current=O,le.current=J,o(O),h(J),g(!0),ae.current=!1,u(Object.fromEntries(K.map(U=>[U.id,!0]))),c("eval"),setTimeout(()=>{R&&ye({rows:K.map(U=>Le(E,D,R,O,J,U,"group_submitted"))})},pt)},[b,P,p,m]),H=l.useCallback(()=>{if(!jt(p)){N(cs());const E=K.findIndex(D=>!we(p,D.id));E>=0&&x(E);return}$(p,m)},[p,m,$]),B=l.useCallback(E=>{ut(),ue(E||"Your session has expired. Please enter your PIN again."),xe(!0)},[]),d=l.useCallback(()=>{xe(!1),ue(""),z(""),T("entering"),c("pin")},[]),F=l.useCallback(async()=>{v({loading:!0});let E=[];try{E=await mt()||[]}catch(J){if(J.unauthorized){B("Your session has expired. Please enter your PIN again.");return}}const D=K.length,R=E.filter(J=>J.status==="group_submitted"||J.status==="all_submitted").length,O=E.length>=D&&E.every(J=>J.status==="all_submitted");v({rows:E,filledCount:R,totalCount:D,allSubmitted:O})},[B]);l.useEffect(()=>{if(i!=="eval")return;const E=setInterval(async()=>{try{(await ht()).status==="unauthorized"&&B("Your session was ended because you signed in from another device.")}catch{}},15e3);return()=>clearInterval(E)},[i,B]),l.useEffect(()=>{if(i!=="eval")return;async function E(){if(document.visibilityState==="visible")try{(await ht()).status==="unauthorized"&&B("Your session was ended because you signed in from another device.")}catch{}}return document.addEventListener("visibilitychange",E),()=>document.removeEventListener("visibilitychange",E)},[i,B]);const W=l.useCallback(()=>{const E=y;if(E){if(v(null),E.allSubmitted){const{scores:D,comments:R}=He(E.rows);te.current=D,le.current=R,o(D),h(R),A(D),k(R),u(Object.fromEntries(K.map(O=>[O.id,!0]))),ae.current=!0,c("done");return}if(E.rows.length>0){const{scores:D,comments:R}=He(E.rows),O=Object.fromEntries(E.rows.filter(U=>U.status==="group_submitted"||U.status==="all_submitted").map(U=>[Number(U.projectId),!0]));te.current=D,le.current=R,o(D),h(R),u(O);const J=K.findIndex(U=>!we(D,U.id));x(J>=0?J:0),ae.current=!1}c("eval")}},[y]),_=l.useCallback(()=>{const E=Ae(),D=Fe();te.current=E,le.current=D,v(null),o(E),h(D),u({}),x(0),ae.current=!1,g(!1),c("eval")},[]),Q=l.useCallback(async()=>{const{juryName:E,juryDept:D}=oe.current,R=n.current;let O=Ae(),J=Fe();try{const U=await mt();if(U!=null&&U.length){const pe=He(U);O=pe.scores,J=pe.comments}}catch{}R&&ye({action:"resetJuror"}),te.current=O,le.current=J,o(O),h(J),A(O),k(J),g(!0),ae.current=!1,u(Object.fromEntries(K.map(U=>[U.id,!0]))),c("eval"),setTimeout(()=>{R&&ye({rows:K.map(U=>Le(E,D,R,O,J,U,"group_submitted"))})},pt)},[]),Z=l.useCallback(async()=>{const{juryName:E,juryDept:D}=oe.current;if(!E.trim()||!D.trim())return;const R=ct(E,D);if(n.current=R,v({loading:!0}),We()){await F();return}try{const O=await is(R);if(O.status!=="ok"){v(null),z("Could not reach the server. Please try again."),T("entering"),c("pin");return}if(O.exists)v(null),T("entering"),z(""),G(3),c("pin");else{const J=await os(R,E,D);J.status==="ok"?(v(null),dt(J.token),q(J.pin),T("new"),c("pin")):(v(null),z("Could not create a PIN. Please try again."),T("entering"),c("pin"))}}catch{v(null),z("Connection error. Please check your network and try again."),T("entering"),c("pin")}},[F]),X=l.useCallback(async E=>{const D=n.current;v({loading:!0});try{const R=await ls(D,E);if(R.locked){v(null),T("locked"),z("Too many failed attempts. Please contact the admin to reset your PIN.");return}if(R.valid){dt(R.token||""),T("idle"),z(""),await F();return}v(null);const O=typeof R.attemptsLeft=="number"?R.attemptsLeft:ee-1;G(O),O<=0?(T("locked"),z("Too many failed attempts. Please contact the admin.")):z(`Incorrect PIN. ${O} attempt${O!==1?"s":""} remaining.`)}catch{v(null),z("Could not verify PIN. Please try again.")}},[ee,F]),he=l.useCallback(async()=>{await F()},[F]),be=l.useCallback(()=>{const E=Ae(),D=Fe();te.current=E,le.current=D,s(""),a(""),c("info"),x(0),o(E),h(D),N(xt()),u({}),v(null),g(!1),A(null),k(null),I("idle"),T("idle"),z(""),q(""),G(3),ae.current=!1,n.current="",ut()},[]),Te=K[f],_e=K.length*ne.length,Kt=Math.round(Et(p)/_e*100),Yt=jt(p);return{juryName:t,setJuryName:s,juryDept:r,setJuryDept:a,jurorId:n.current,step:i,setStep:c,current:f,handleNavigate:Ne,scores:p,comments:m,touched:j,handleScore:je,handleScoreBlur:ce,handleCommentChange:me,handleCommentBlur:M,project:Te,progressPct:Kt,allComplete:Yt,groupSynced:w,editMode:S,doneScores:b,doneComments:P,sheetProgress:y,saveStatus:L,pinStep:C,pinError:Y,newPin:re,attemptsLeft:ee,handlePinSubmit:X,handlePinAcknowledge:he,sessionKicked:se,kickedMsg:ve,handleKickedAcknowledge:d,handleStart:Z,handleConfirmFromSheet:W,handleStartFresh:_,handleResubmit:Q,handleEditScores:V,handleFinalSubmit:H,resetAll:be}}function Je(){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}function ms(){return e.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),e.jsx("polyline",{points:"7 3 7 8 15 8"})]})}function ft(){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"7.5",cy:"15.5",r:"5.5"}),e.jsx("path",{d:"M21 2l-9.6 9.6"}),e.jsx("path",{d:"M15.5 7.5l3 3L22 7l-3-3"})]})}function It(){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}function At(){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"9"}),e.jsx("path",{d:"M12 8v4"}),e.jsx("path",{d:"M12 16h.01"})]})}function hs(){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7-10-7-10-7z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}function ps(){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3l18 18"}),e.jsx("path",{d:"M10.6 10.6a3 3 0 0 0 4.2 4.2"}),e.jsx("path",{d:"M9.6 5.5A10.8 10.8 0 0 1 12 5c6.5 0 10 7 10 7a17.2 17.2 0 0 1-3.3 4.4"}),e.jsx("path",{d:"M6.3 6.3C3.4 8.1 2 12 2 12s3.5 7 10 7a11 11 0 0 0 4.7-1"})]})}function Ue(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 21a8 8 0 0 0-16 0"}),e.jsx("circle",{cx:"10",cy:"8",r:"5"}),e.jsx("path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"})]})}function Ft(){return e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m16 11 2 2 4-4"}),e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"})]})}function Dt(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"}),e.jsx("path",{d:"M8 10v4"}),e.jsx("path",{d:"M12 10v2"}),e.jsx("path",{d:"M16 10v6"})]})}function xs(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.6-.8l-1.2-1.6A2 2 0 0 0 7.5 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}),e.jsx("path",{d:"m9 13 2 2 4-4"})]})}function $t(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function js(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"m9 12 2 2 4-4"})]})}function fs(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3.85 8.62a4 4 0 1 1 7.29-5.17"}),e.jsx("path",{d:"M3.85 15.38a4 4 0 1 0 7.29 5.17"}),e.jsx("path",{d:"M20.15 8.62a4 4 0 1 0-7.29-5.17"}),e.jsx("path",{d:"M20.15 15.38a4 4 0 1 1-7.29 5.17"}),e.jsx("path",{d:"m9 12 2 2 4-4"})]})}function Ve(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"m9 12 2 2 4-4"})]})}function st(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]})}function $e(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M5 2h14"}),e.jsx("path",{d:"M5 22h14"}),e.jsx("path",{d:"M7 2c0 6 10 6 10 10s-10 4-10 10"}),e.jsx("path",{d:"M17 2c0 6-10 6-10 10s10 4 10 10"})]})}function Oe(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 3a2.85 2.85 0 1 1 4 4L7 21H3v-4L17 3z"}),e.jsx("path",{d:"m15 5 4 4"})]})}function gs(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 6 2 2 4-4"}),e.jsx("path",{d:"m3 12 2 2 4-4"}),e.jsx("path",{d:"m3 18 2 2 4-4"}),e.jsx("path",{d:"M11 6h10"}),e.jsx("path",{d:"M11 12h10"}),e.jsx("path",{d:"M11 18h10"})]})}function ke(){return e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}function Pt(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 3v12"}),e.jsx("path",{d:"m7 10 5 5 5-5"}),e.jsx("path",{d:"M5 21h14"})]})}function Tt(){return e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m21 16-4 4-4-4"}),e.jsx("path",{d:"M17 20V4"}),e.jsx("path",{d:"m3 8 4-4 4 4"}),e.jsx("path",{d:"M7 4v16"})]})}function _t(){return e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m5 12 7-7 7 7"}),e.jsx("path",{d:"M12 19V5"})]})}function Rt(){return e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 5v14"}),e.jsx("path",{d:"m19 12-7 7-7-7"})]})}function nt(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 16v-4"}),e.jsx("path",{d:"M12 8h.01"})]})}function gt(){return e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("circle",{cx:"12",cy:"12",r:"9"})})}function vs(){return e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978"}),e.jsx("path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978"}),e.jsx("path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18"}),e.jsx("path",{d:"M4 22h16"}),e.jsx("path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z"}),e.jsx("path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6"})]})}function Bt(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"M7 14l4-4 3 3 5-6"})]})}function rt(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"9",y:"2",width:"6",height:"4",rx:"1"}),e.jsx("path",{d:"M9 4H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-2"})]})}function bs(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"})]})}function ys(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M22 10v6"}),e.jsx("path",{d:"M2 10l10-5 10 5-10 5z"}),e.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]})}function Wt(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"7"}),e.jsx("path",{d:"M20 20l-3.5-3.5"})]})}function at(){return e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 6l12 12M18 6l-12 12"})})}function Qe(){return e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M5 12l4 4 10-10"})})}function ks(){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 2v6h-6"}),e.jsx("path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8"}),e.jsx("path",{d:"M3 22v-6h6"}),e.jsx("path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16"})]})}function Ns(){return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})}function Ot(){return e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})})}function zt(){return e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})}function Pe(){return e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:e.jsx("path",{d:"M3 5l4 4 4-4"})})}function ws({juryName:t,setJuryName:s,juryDept:r,setJuryDept:a,onStart:n,onBack:i}){const c=t.trim().length>0&&r.trim().length>0;return e.jsxs("div",{className:"form-screen",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("button",{className:"back-btn",onClick:i,"aria-label":"Back to home",children:e.jsx(Je,{})}),e.jsxs("div",{className:"form-title-wrap",children:[e.jsx("div",{className:"form-title-row",children:e.jsx("h2",{children:"Evaluation Form"})}),e.jsx("p",{children:"EE 492 ‚Äî Senior Project Poster Day"})]})]}),e.jsxs("div",{className:"info-card",children:[e.jsx("h3",{children:"Jury Member Information"}),e.jsxs("div",{className:"identity-warning",children:[e.jsx("span",{className:"warning-icon","aria-hidden":"true",children:e.jsx(At,{})}),e.jsx("span",{children:"Please enter your name and department carefully. Once you begin the evaluation, these cannot be changed."})]}),e.jsxs("div",{className:"field",children:[e.jsxs("label",{htmlFor:"jury-name",children:["Full Name ",e.jsx("span",{className:"req",children:"*"})]}),e.jsx("input",{id:"jury-name",value:t,onChange:f=>s(f.target.value),placeholder:"e.g. Prof. Dr. Jane Smith",autoComplete:"name",autoFocus:!0})]}),e.jsxs("div",{className:"field",children:[e.jsxs("label",{htmlFor:"jury-dept",children:["Department / Institution ",e.jsx("span",{className:"req",children:"*"})]}),e.jsx("input",{id:"jury-dept",value:r,onChange:f=>a(f.target.value),placeholder:"e.g. EEE Dept. / TED University",onKeyDown:f=>{f.key==="Enter"&&c&&n()}})]}),e.jsx("p",{className:"draft-device-note",children:"‚ÑπÔ∏è Scores save automatically as you fill each field or switch groups. Next, we‚Äôll authenticate your session and ask for your PIN so you can continue from any device."}),e.jsxs("div",{className:"trust-note",children:[e.jsx(It,{}),"Authenticating session before PIN verification"]}),e.jsx("button",{className:"btn-primary",disabled:!c,onClick:n,children:"Start Evaluation ‚Üí"})]})]})}function Ss({onSubmit:t,pinError:s}){const[r,a]=l.useState(["","","",""]),n=[l.useRef(null),l.useRef(null),l.useRef(null),l.useRef(null)];l.useEffect(()=>{s&&(a(["","","",""]),setTimeout(()=>{var o;return(o=n[0].current)==null?void 0:o.focus()},50))},[s]);function i(o,m){var N;const h=m.replace(/\D/g,"").slice(-1),j=[...r];j[o]=h,a(j),h&&o<3&&((N=n[o+1].current)==null||N.focus())}function c(o,m){var h,j,N;if(m.key==="Backspace")if(r[o]===""&&o>0){const w=[...r];w[o-1]="",a(w),(h=n[o-1].current)==null||h.focus()}else{const w=[...r];w[o]="",a(w)}if(m.key==="ArrowLeft"&&o>0&&((j=n[o-1].current)==null||j.focus()),m.key==="ArrowRight"&&o<3&&((N=n[o+1].current)==null||N.focus()),m.key==="Enter"){const w=r.join("");w.length===4&&t(w)}}function f(o){var h;const m=o.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(m.length===4){const j=m.split("");a(j),(h=n[3].current)==null||h.focus()}o.preventDefault()}function x(){const o=r.join("");o.length===4&&t(o)}const p=r.every(o=>o!=="");return e.jsxs("div",{className:"pin-input-group",children:[e.jsx("div",{className:"pin-boxes-row",children:r.map((o,m)=>e.jsx("input",{ref:n[m],type:"password",inputMode:"numeric",maxLength:1,value:o,autoFocus:m===0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,"data-lpignore":"true","data-form-type":"other",onChange:h=>i(m,h.target.value),onKeyDown:h=>c(m,h),onPaste:m===0?f:void 0,className:"pin-box"},m))}),e.jsx("button",{className:"btn-primary pin-ok-btn",onClick:x,disabled:!p,children:"OK ‚Üí"})]})}function Cs({pinStep:t,pinError:s,newPin:r,attemptsLeft:a,juryName:n,onPinSubmit:i,onPinAcknowledge:c}){return t==="new"?e.jsx("div",{className:"form-screen",children:e.jsxs("div",{className:"info-card pin-card",children:[e.jsx("div",{className:"pin-icon-wrap",children:e.jsx(ft,{})}),e.jsx("h3",{children:"Your Access PIN"}),e.jsxs("p",{className:"pin-intro",children:["Welcome, ",e.jsx("strong",{children:n}),"! A 4-digit PIN has been assigned to protect your evaluations. Please save it ‚Äî you will need it every time you log in from a new device or browser tab."]}),e.jsx("div",{className:"pin-display","aria-label":"Your PIN",children:String(r).split("").map((f,x)=>e.jsx("span",{className:"pin-digit",children:f},x))}),e.jsx("p",{className:"pin-hint",children:"üîí Keep this PIN private. If you lose it, contact the admin to reset it."}),e.jsx("button",{className:"btn-primary",onClick:c,children:"I've saved my PIN ‚Äî Continue ‚Üí"})]})}):t==="locked"?e.jsx("div",{className:"form-screen",children:e.jsxs("div",{className:"info-card pin-card",children:[e.jsx("div",{className:"pin-icon-wrap lock-icon",children:"üîí"}),e.jsx("h3",{children:"Account Locked"}),e.jsx("p",{className:"pin-error-msg",children:s})]})}):e.jsx("div",{className:"form-screen",children:e.jsxs("div",{className:"info-card pin-card",children:[e.jsx("div",{className:"pin-icon-wrap",children:e.jsx(ft,{})}),e.jsx("h3",{children:"Enter Your PIN"}),e.jsxs("p",{className:"pin-intro",children:["Welcome back, ",e.jsx("strong",{children:n}),". Enter your 4-digit PIN and press OK to continue."]}),e.jsx(Ss,{onSubmit:i,pinError:s}),s&&e.jsx("div",{className:"pin-error-msg",children:s})]})})}function Ls(t){return t===0?"#e2e8f0":t<34?"linear-gradient(90deg,#ef4444,#f97316)":t<67?"linear-gradient(90deg,#f97316,#eab308)":t<100?"linear-gradient(90deg,#eab308,#84cc16)":"linear-gradient(90deg,#84cc16,#22c55e)"}function Ms({saveStatus:t}){return t==="saving"?e.jsx("span",{className:"autosave-dot saving",children:"‚è≥ Saving‚Ä¶"}):t==="saved"?e.jsx("span",{className:"autosave-dot saved",children:"‚úì Saved"}):e.jsx("span",{className:"autosave-dot idle",children:"‚óè Auto-saving"})}function Es({juryName:t,juryDept:s,current:r,onNavigate:a,scores:n,comments:i,touched:c,groupSynced:f,editMode:x,progressPct:p,allComplete:o,saveStatus:m,handleScore:h,handleScoreBlur:j,handleCommentChange:N,handleCommentBlur:w,handleFinalSubmit:u,onGoHome:S}){var I;const[g,b]=l.useState(!1),[A,P]=l.useState(null),k=K[r],y=(C,T)=>{const Y=ne.filter(re=>{var q;return((q=n[C.id])==null?void 0:q[re.id])!==""}).length;return`${we(n,C.id)?"‚úÖ":"‚ö†Ô∏è"} ${C.name} (${Y}/${ne.length})`},v=()=>{r>0&&a(r-1)},L=()=>{r<K.length-1&&a(r+1)};return e.jsxs("div",{className:"form-screen eval-screen",children:[e.jsxs("div",{className:"eval-sticky-header",children:[e.jsxs("div",{className:"eval-identity-bar",children:[e.jsx("span",{className:"eval-identity-icon",children:"üë§"}),e.jsxs("span",{className:"eval-identity-text",children:[t,s&&e.jsxs("span",{className:"eval-identity-dept",children:[" (",s,")"]})]}),e.jsx("span",{className:"eval-identity-save",children:e.jsx(Ms,{saveStatus:m})}),e.jsx("button",{className:"eval-home-btn-icon",onClick:()=>b(!0),"aria-label":"Home",children:e.jsx(Je,{})})]}),e.jsxs("div",{className:"eval-project-card",children:[e.jsxs("div",{className:"eval-project-line1",children:[e.jsx("span",{className:"eval-group-label",children:k.name}),e.jsx("span",{className:"eval-project-name",children:k.desc})]}),((I=k.students)==null?void 0:I.length)>0&&e.jsxs("div",{className:"eval-project-line2",children:["üë• ",k.students.join(" ¬∑ ")]})]}),e.jsxs("div",{className:"eval-nav-row",children:[e.jsx("button",{className:"group-nav-btn",onClick:v,disabled:r===0,"aria-label":"Previous group",children:e.jsx(Ot,{})}),e.jsx("select",{className:"group-nav-select",value:r,onChange:C=>a(Number(C.target.value)),children:K.map((C,T)=>e.jsx("option",{value:T,children:y(C)},C.id))}),e.jsx("button",{className:"group-nav-btn",onClick:L,disabled:r===K.length-1,"aria-label":"Next group",children:e.jsx(zt,{})})]}),e.jsx("div",{className:"eval-progress-row",children:e.jsxs("div",{className:"eval-progress-track",children:[e.jsx("div",{className:"eval-progress-fill",style:{width:`${p}%`,background:Ls(p)}}),e.jsxs("span",{className:"eval-progress-label",children:[Math.round(p),"%"]})]})})]}),g&&e.jsx("div",{className:"back-menu-overlay",onClick:()=>b(!1),children:e.jsxs("div",{className:"back-menu",onClick:C=>C.stopPropagation(),children:[e.jsx("p",{className:"back-menu-title",children:"Leave evaluation?"}),e.jsx("p",{className:"back-menu-sub",children:"Your progress is saved. You can continue any time."}),e.jsx("button",{className:"back-menu-btn primary",onClick:()=>{b(!1),S()},children:"üè† Go to Home"}),e.jsx("button",{className:"back-menu-btn ghost",onClick:()=>b(!1),children:"Cancel"})]})}),e.jsxs("div",{className:"eval-body",children:[f[k.id]&&!x&&e.jsx("div",{className:"group-done-banner",children:"‚úÖ All scores saved for this group."}),x&&e.jsxs("div",{className:"group-done-banner edit-mode-banner",children:["‚úèÔ∏è Edit mode ‚Äî adjust scores then click ",e.jsx("strong",{children:"Submit Final"}),"."]}),ne.map(C=>{var re,q;const T=((re=n[k.id])==null?void 0:re[C.id])??"",Y=((q=c[k.id])==null?void 0:q[C.id])&&T==="",z=(parseInt(T,10)||0)/C.max*100;return e.jsxs("div",{className:`crit-card${Y?" invalid":""}`,children:[e.jsxs("div",{className:"crit-header",children:[e.jsxs("div",{children:[e.jsx("div",{className:"crit-label",children:C.label}),e.jsxs("div",{className:"crit-max",children:["Maximum: ",C.max," pts"]})]}),e.jsx("button",{className:"rubric-btn",onClick:()=>P(A===C.id?null:C.id),children:A===C.id?"Hide Rubric ‚ñ≤":"Show Rubric ‚ñº"})]}),A===C.id&&e.jsx("div",{className:"rubric-table",children:C.rubric.map(ee=>e.jsxs("div",{className:"rubric-row",children:[e.jsx("div",{className:"rubric-range",children:ee.range}),e.jsx("div",{className:"rubric-level",children:ee.level}),e.jsx("div",{className:"rubric-desc",children:ee.desc})]},ee.range))}),e.jsxs("div",{className:"score-input-row",children:[e.jsx("input",{type:"number",inputMode:"numeric",min:"0",max:C.max,value:T,onChange:ee=>h(k.id,C.id,ee.target.value),onBlur:()=>j(k.id,C.id),placeholder:"‚Äî",className:"score-input"}),e.jsx("span",{className:"score-bar-wrap",children:e.jsx("span",{className:"score-bar",style:{width:`${z}%`}})}),e.jsx("span",{className:"score-pct",children:T!==""?`${T} / ${C.max}`:`‚Äî / ${C.max}`})]}),Y&&e.jsx("div",{className:"required-hint",children:"Required"})]},C.id)}),e.jsxs("div",{className:"crit-card comment-card",children:[e.jsx("div",{className:"crit-label",children:"Comments (Optional)"}),e.jsx("textarea",{value:i[k.id]||"",onChange:C=>N(k.id,C.target.value),onBlur:()=>w(k.id),placeholder:"Any additional feedback about this group‚Ä¶",rows:3})]}),e.jsxs("div",{className:"total-bar",children:[e.jsx("span",{children:"Total"}),(()=>{const C=ne.reduce((T,Y)=>{var z;return T+(parseInt((z=n[k.id])==null?void 0:z[Y.id],10)||0)},0);return e.jsxs("span",{className:`total-score${C>=80?" high":C>=60?" mid":""}`,children:[C," / 100"]})})()]}),x&&e.jsx("button",{className:"btn-primary",style:{width:"100%",marginTop:8,opacity:o?1:.65},onClick:u,children:o?"‚úÖ Submit Final":`‚ö†Ô∏è Submit Final (${Et(n)} / ${K.length*ne.length} filled)`})]})]})}function Is(t,s){return ne.reduce((r,a)=>{var n;return r+(parseInt((n=t[s])==null?void 0:n[a.id],10)||0)},0)}function As({doneScores:t,scores:s,onEditScores:r,onBack:a}){const n=t||s,[i,c]=l.useState(new Set);function f(x){c(p=>{const o=new Set(p);return o.has(x)?o.delete(x):o.add(x),o})}return e.jsx("div",{className:"done-screen",children:e.jsxs("div",{className:"done-card",children:[e.jsx("div",{className:"done-icon",children:"üéâ"}),e.jsx("h2",{children:"Thank You!"}),e.jsx("p",{className:"done-subtitle",children:"Your evaluations have been recorded‚Äîthank you for your feedback."}),e.jsx("div",{className:"done-summary",children:K.map(x=>{var h,j;const p=i.has(x.id),o=`done-group-panel-${x.id}`,m=!!x.desc||((h=x.students)==null?void 0:h.length)>0;return e.jsxs("div",{className:"done-row-wrap",children:[e.jsxs("div",{className:"done-row group-accordion-header",role:"button",tabIndex:m?0:-1,"aria-expanded":p,"aria-controls":o,onClick:()=>{m&&f(x.id)},onKeyDown:N=>{(N.key==="Enter"||N.key===" ")&&m&&(N.preventDefault(),f(x.id))},style:{cursor:m?"pointer":"default"},children:[e.jsx("div",{className:"done-row-left",children:e.jsxs("div",{className:"done-row-header-line",children:[e.jsx("span",{className:"done-row-name",children:x.name}),m&&e.jsx("span",{className:`group-accordion-chevron${p?" open":""}`,children:e.jsx(Pe,{})})]})}),e.jsx("div",{className:"done-row-right",children:e.jsxs("span",{className:"done-score",children:[e.jsx("span",{className:"done-score-main",children:Is(n,x.id)}),e.jsx("span",{className:"done-score-max",children:" / 100"})]})})]}),e.jsx("div",{id:o,className:`group-accordion-panel${p?" open":""}`,children:e.jsxs("div",{className:"group-accordion-panel-inner done-accordion-inner",children:[x.desc&&e.jsx("span",{className:"done-row-desc",children:x.desc}),((j=x.students)==null?void 0:j.length)>0&&e.jsxs("span",{className:"done-row-students",children:["üë• ",x.students.join(" ¬∑ ")]})]})})]},x.id)})}),e.jsxs("div",{className:"done-actions",children:[e.jsx("button",{className:"btn-secondary",onClick:r,children:"‚úèÔ∏è Edit Scores"}),e.jsxs("button",{className:"btn-primary",onClick:a,children:[e.jsx(Je,{})," Back to Home"]})]})]})})}function Fs(t){return t==="all_submitted"?{label:"Submitted",color:"#166534",bg:"#dcfce7"}:t==="group_submitted"?{label:"Complete",color:"#1e40af",bg:"#dbeafe"}:t==="in_progress"?{label:"In progress",color:"#92400e",bg:"#fef9c3"}:{label:"‚Äî",color:"#64748b",bg:"#f1f5f9"}}function Be({progress:t,onConfirm:s,onFresh:r}){if(!t)return null;if(t.loading)return e.jsx("div",{className:"spd-overlay",children:e.jsx("div",{className:"spd-card",children:e.jsxs("div",{className:"spd-header",children:[e.jsx("div",{className:"spd-icon spd-icon-animated","aria-hidden":"true",children:e.jsx($e,{})}),e.jsxs("div",{children:[e.jsx("div",{className:"spd-title",children:"Authenticating your session‚Ä¶"}),e.jsx("div",{className:"spd-sub",children:"Connecting to server"})]})]})})});const{rows:a,filledCount:n,totalCount:i,allSubmitted:c}=t,f=a&&a.length>0;return e.jsx("div",{className:"spd-overlay",children:e.jsxs("div",{className:"spd-card",children:[e.jsxs("div",{className:"spd-header",children:[e.jsx("div",{className:"spd-icon spd-icon-state","aria-hidden":"true",children:c?e.jsx(fs,{}):f?e.jsx(ms,{}):e.jsx(rt,{})}),e.jsxs("div",{children:[e.jsx("div",{className:"spd-title",children:c?"All evaluations submitted":f?"Saved progress found":"No saved data found"}),e.jsxs("div",{className:"spd-sub",children:[n," / ",i," groups completed on server"]})]})]}),f&&e.jsx("div",{className:"spd-list",children:K.map(x=>{const p=a.find(h=>Number(h.projectId)===x.id),o=Fs(p==null?void 0:p.status),m=(p==null?void 0:p.total)??"‚Äî";return e.jsxs("div",{className:"spd-row",children:[e.jsx("span",{className:"spd-row-name",children:x.name}),e.jsx("span",{className:"spd-row-total",children:m!=="‚Äî"?`${m}/100`:"‚Äî"}),e.jsx("span",{className:"spd-chip",style:{color:o.color,background:o.bg},children:o.label})]},x.id)})}),!f&&e.jsxs("p",{className:"spd-empty",children:["No evaluations were found on the server for your account."," ","You can start a fresh evaluation below."]}),e.jsxs("div",{className:"spd-actions",children:[e.jsx("button",{className:"btn-primary",onClick:s,children:c?"View / Edit My Scores":f?"Continue from here":"Start Evaluation"}),f&&!c&&e.jsx("button",{className:"btn-secondary",onClick:r,children:"Start Fresh"})]})]})})}function Ds({onBack:t}){const{step:s,juryName:r,setJuryName:a,juryDept:n,setJuryDept:i,current:c,handleNavigate:f,scores:x,comments:p,touched:o,groupSynced:m,editMode:h,progressPct:j,allComplete:N,doneScores:w,doneComments:u,sheetProgress:S,saveStatus:g,pinStep:b,pinError:A,newPin:P,attemptsLeft:k,handleScore:y,handleScoreBlur:v,handleCommentChange:L,handleCommentBlur:I,handleStart:C,handleConfirmFromSheet:T,handleStartFresh:Y,handleResubmit:z,handleEditScores:re,handleFinalSubmit:q,handlePinSubmit:ee,handlePinAcknowledge:G,sessionKicked:se,kickedMsg:xe,handleKickedAcknowledge:ve,resetAll:ue}=us();return se?e.jsx("div",{className:"kicked-overlay",children:e.jsxs("div",{className:"kicked-card",children:[e.jsx("div",{className:"kicked-icon",children:"üîê"}),e.jsx("div",{className:"kicked-title",children:"Session Ended"}),e.jsx("div",{className:"kicked-body",children:xe}),e.jsx("button",{className:"btn-primary",onClick:ve,children:"Sign in again"})]})}):s==="done"?e.jsxs(e.Fragment,{children:[e.jsx(As,{doneScores:w,doneComments:u,scores:x,comments:p,onEditScores:re,onBack:()=>{ue(),t()}}),e.jsx(Be,{progress:S,onConfirm:T,onFresh:Y})]}):s==="pin"?e.jsxs(e.Fragment,{children:[e.jsx(Cs,{pinStep:b,pinError:A,newPin:P,attemptsLeft:k,juryName:r,onPinSubmit:ee,onPinAcknowledge:G}),e.jsx(Be,{progress:S,onConfirm:T,onFresh:Y})]}):s==="eval"?e.jsxs(e.Fragment,{children:[e.jsx(Es,{juryName:r,juryDept:n,current:c,onNavigate:f,scores:x,comments:p,touched:o,groupSynced:m,editMode:h,progressPct:j,allComplete:N,saveStatus:g,handleScore:y,handleScoreBlur:v,handleCommentChange:L,handleCommentBlur:I,handleFinalSubmit:q,onGoHome:t}),e.jsx(Be,{progress:S,onConfirm:T,onFresh:Y})]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{juryName:r,setJuryName:a,juryDept:n,setJuryDept:i,onStart:C,onBack:t}),e.jsx(Be,{progress:S,onConfirm:T,onFresh:Y})]})}const $s="modulepreload",Ps=function(t){return"/senior-design-jury/"+t},vt={},Ts=function(s,r,a){if(!r||r.length===0)return s();const n=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=Ps(i),i in vt)return;vt[i]=!0;const c=i.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!a)for(let o=n.length-1;o>=0;o--){const m=n[o];if(m.href===i&&(!c||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${f}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":$s,c||(p.as="script",p.crossOrigin=""),p.href=i,document.head.appendChild(p),c)return new Promise((o,m)=>{p.addEventListener("load",o),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>s()).catch(i=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i})},_s=new Map(K.map((t,s)=>typeof t=="string"?[s+1,{desc:"",students:[]}]:[t.id??s+1,{desc:t.desc??"",students:t.students??[]}]));function Rs(t){const s=Number(String(t??"").trim().replace(/^"+|"+$/g,"").replace(",","."));return Number.isFinite(s)?s:0}function Ge(t){if(!t)return 0;const s=String(t).trim().replace(/\s*,\s*/g,", "),r=Date.parse(s);if(Number.isFinite(r))return r;const a=s.match(/^([0-3]?\d)\/([0-1]?\d)\/(\d{4}),?\s*([0-2]?\d):([0-5]\d)(?::([0-5]\d))?$/);if(a)return new Date(+a[3],+a[2]-1,+a[1],+a[4],+a[5],+(a[6]||0)).getTime()||0;const n=s.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})(?:\s+(\d{1,2}):(\d{2})(?::(\d{2}))?\s*(AM|PM)?)?$/i);if(!n)return 0;let i=+(n[4]||0);const c=(n[7]||"").toUpperCase();return c==="PM"&&i<12&&(i+=12),c==="AM"&&i===12&&(i=0),new Date(+n[3],+n[1]-1,+n[2],i,+(n[5]||0),+(n[6]||0)).getTime()||0}function Ze(t){if(!t)return"‚Äî";const s=Ge(t);if(!s)return String(t);const r=new Date(s),a=n=>String(n).padStart(2,"0");return`${a(r.getDate())}/${a(r.getMonth()+1)}/${r.getFullYear()} ${a(r.getHours())}:${a(r.getMinutes())}`}function fe(t,s){const r=Number(t),a=Number(s);return Number.isFinite(r)&&Number.isFinite(a)?r-a:String(t??"").toLowerCase()<String(s??"").toLowerCase()?-1:1}function Jt(t){let s=2166136261;for(let r=0;r<t.length;r++)s^=t.charCodeAt(r),s=Math.imul(s,16777619);return s>>>0}function Gt(t,s,r){s/=100,r/=100;const a=c=>(c+t/30)%12,n=s*Math.min(r,1-r),i=c=>Math.round(255*(r-n*Math.max(-1,Math.min(a(c)-3,Math.min(9-a(c),1))))).toString(16).padStart(2,"0");return`#${i(0)}${i(8)}${i(4)}`}const Bs=t=>Gt(Jt(t||"?")%360,55,95),Ws=t=>Gt(Jt(t||"?")%360,65,55);function Me(t){return t===""||t===null||t===void 0||typeof t=="string"&&t.trim()===""||typeof t=="number"&&!Number.isFinite(t)?"":t}async function Os(t){const s=await Ts(()=>import("./xlsx-6ed613d4.js"),[]),r=["Juror Name","Department / Institution","Timestamp","Group Name","Group Desc","Students","Technical (30)","Written (30)","Oral (30)","Teamwork (10)","Total (100)","Comments"],a=t.map(p=>{const o=_s.get(p.projectId)||{desc:"",students:[]};return[p.juryName??"",p.juryDept??"",p.timestamp??"",p.projectName??"",o.desc,o.students.join(" ¬∑ "),Me(p.technical),Me(p.design),Me(p.delivery),Me(p.teamwork),Me(p.total),p.comments??""]}),n=s.utils.aoa_to_sheet([r,...a]);n["!cols"]=[20,22,18,20,24,28,14,12,10,13,10,30].map(p=>({wch:p}));const i=s.utils.book_new();s.utils.book_append_sheet(i,n,"Jury Evaluations");const c=new Date,f=c.toISOString().slice(0,10),x=`${String(c.getHours()).padStart(2,"0")}-${String(c.getMinutes()).padStart(2,"0")}`;s.writeFile(i,`jury_export_${f}_${x}.xlsx`)}const zs=t=>t.reduce((s,r)=>s+ne.filter(a=>r[a.id]>0).length,0),Js=t=>{const s=K.length*ne.length;return s===0?0:Math.round(zs(t)/s*100)};function Gs(t){const s={all_submitted:3,group_submitted:2,in_progress:1},r=(t||[]).filter(n=>(n==null?void 0:n.juryName)||(n==null?void 0:n.projectName)||((n==null?void 0:n.total)??0)>0).map(n=>({...n,tsMs:Number.isFinite(n==null?void 0:n.tsMs)?n.tsMs:Ge(n==null?void 0:n.timestamp)})),a=new Map;for(const n of r){const i=String(n.juryName??"").trim().toLowerCase(),c=String(n.juryDept??"").trim().toLowerCase(),f=n.projectId?String(n.projectId).trim():String(n.projectName??"").trim().toLowerCase();if(!i||!f)continue;const x=`${i}__${c}__${f}`,p=a.get(x);if(!p){a.set(x,n);continue}if((n.tsMs||0)>(p.tsMs||0)){a.set(x,n);continue}(n.tsMs||0)===(p.tsMs||0)&&(s[n.status]||0)>(s[p.status]||0)&&a.set(x,n)}return[...a.values()].sort((n,i)=>(i.tsMs||0)-(n.tsMs||0))}function De({status:t,editingFlag:s,variant:r,icon:a,children:n}){return r||a||n?e.jsxs("span",{className:`status-badge${r?` ${r}`:""}`,children:[a,n]}):s==="editing"?e.jsxs("span",{className:"status-badge editing",children:[e.jsx(Oe,{}),"Editing"]}):t==="all_submitted"?e.jsxs("span",{className:"status-badge submitted",children:[e.jsx(Qe,{}),"Submitted"]}):t==="group_submitted"?e.jsxs("span",{className:"status-badge submitted",children:[e.jsx(Qe,{}),"Submitted"]}):t==="in_progress"?e.jsxs("span",{className:"status-badge in-progress",children:[e.jsx($e,{}),"In Progress"]}):null}const Hs="/senior-design-jury/assets/1st-place-medal-cb397e4c.svg",Ks="/senior-design-jury/assets/2nd-place-medal-9ec5b4d1.svg",Ys="/senior-design-jury/assets/3rd-place-medal-7ad05fc8.svg",qs=ne.map(t=>({id:t.id,label:t.label,shortLabel:t.shortLabel,max:t.max})),Us=[Hs,Ks,Ys];function Vs({ranked:t,submittedData:s}){const[r,a]=l.useState(new Set);function n(i){a(c=>{const f=new Set(c);return f.has(i)?f.delete(i):f.add(i),f})}return s.length===0?e.jsx("div",{className:"empty-msg",children:"No submitted evaluations yet."}):e.jsxs("div",{className:"summary-page",children:[e.jsxs("div",{className:"summary-note",children:[e.jsx(nt,{}),"The scores shown are ",e.jsx("strong",{children:"average (Œ£)"})," group scores from ",e.jsx("strong",{children:"completed"})," evaluations."]}),e.jsx("div",{className:"rank-list",children:t.map((i,c)=>{var P,k;const f=i.id??c+1,x=`Group ${f}`,p=(i.name||"").trim(),o=(i.desc||"").trim(),m=!p||p===x,h=m?o||x:p,N=m?o:o&&o!==h?o:"",w=!m&&h&&h!==x,u=`summary-${f}-${c}`,S=r.has(u),g=w||!!N||((P=i.students)==null?void 0:P.length)>0,b=c<3,A=`summary-group-panel-${u}`;return e.jsxs("div",{className:`rank-card rank-${c+1} ${b?`rank-top${c+1}`:"rank-rest"}`,children:[b&&e.jsx("span",{className:`rank-accent rank-${c+1}`,"aria-hidden":"true"}),b?e.jsxs("div",{className:`rank-badge rank-medal-wrap rank-${c+1}`,"aria-hidden":"true",children:[e.jsx("span",{className:"rank-medal-ring","aria-hidden":"true"}),e.jsx("img",{className:"rank-medal",src:Us[c],alt:`${c+1} place medal`})]}):e.jsx("div",{className:"rank-badge rank-num",children:c+1}),e.jsxs("div",{className:"rank-info",children:[e.jsxs("div",{className:"group-card-wrap",children:[e.jsxs("div",{className:"group-card-header",children:[e.jsxs("div",{className:"group-card-left",children:[e.jsxs("button",{className:"group-card-toggle group-accordion-header",tabIndex:g?0:-1,"aria-expanded":g?S:void 0,"aria-controls":g?A:void 0,type:"button",onClick:()=>{g&&n(u)},onKeyDown:y=>{(y.key==="Enter"||y.key===" ")&&g&&(y.preventDefault(),n(u))},style:{cursor:g?"pointer":"default"},children:[e.jsx("span",{className:"group-card-name",children:x}),g&&e.jsx("span",{className:`group-accordion-chevron${S?" open":""}`,children:e.jsx(Pe,{})})]}),e.jsxs("span",{className:`eval-badge${b?" full":" partial"}`,children:[e.jsx(Ue,{}),i.count]})]}),e.jsxs("div",{className:"group-card-score",children:[e.jsx("small",{className:"group-card-score-label sigma",children:"Œ£"}),e.jsx("span",{className:"group-card-score-value avg-score",children:i.totalAvg.toFixed(2)})]})]}),e.jsx("div",{id:A,className:`group-accordion-panel${S?" open":""}`,children:e.jsxs("div",{className:"group-accordion-panel-inner group-card-accordion-inner",children:[w&&e.jsx("div",{className:"group-card-full-title",children:h}),N&&e.jsxs("div",{className:"group-card-desc",children:[e.jsx("span",{className:"group-card-desc-icon","aria-hidden":"true",children:e.jsx(Dt,{})}),e.jsx("span",{className:"group-card-desc-text",children:N})]}),((k=i.students)==null?void 0:k.length)>0&&e.jsxs("div",{className:"group-card-students",children:[e.jsx("span",{className:"group-card-students-icon","aria-hidden":"true",children:e.jsx(Ue,{})}),e.jsx("span",{className:"group-card-students-text",children:i.students.join(" ¬∑ ")})]})]})})]}),e.jsx("div",{className:"rank-bars",children:qs.map(y=>e.jsxs("div",{className:"mini-bar-row",children:[e.jsx("span",{className:"mini-label",children:y.shortLabel||y.label}),e.jsx("div",{className:"mini-bar-track",children:e.jsx("div",{className:"mini-bar-fill",style:{width:`${(i.avg[y.id]||0)/y.max*100}%`}})}),e.jsx("span",{className:"mini-val",children:(i.avg[y.id]||0).toFixed(2)})]},y.id))})]})]},i.id??`${i.name}-${c}`)})})]})}const Qs=["9.1","9.2","1.2","2","3.1","3.2","8.1","8.2"],ie=ne.map(t=>({key:t.id,code:t.mudek.join("/"),label:t.shortLabel,max:t.max,color:t.color}));function Ht(t){if(t.length<2)return 0;const s=t.reduce((r,a)=>r+a,0)/t.length;return Math.sqrt(t.reduce((r,a)=>r+(a-s)**2,0)/t.length)}function it(t){return t.length?t.reduce((s,r)=>s+r,0)/t.length:0}function Ke(t,s){if(!t.length)return 0;const r=(t.length-1)*s,a=Math.floor(r),n=r-a;return t[a+1]===void 0?t[a]:t[a]+n*(t[a+1]-t[a])}function Zs(t,s){return t.map(r=>Number(r[s])).filter(r=>Number.isFinite(r))}function bt(t){const[s,r]=String(t).split("."),a=parseInt(s,10),n=parseInt(r??"0",10);return{major:Number.isFinite(a)?a:0,minor:Number.isFinite(n)?n:0}}function Xs(t,s){const r=bt(t),a=bt(s);return r.major!==a.major?r.major-a.major:r.minor!==a.minor?r.minor-a.minor:String(t).localeCompare(String(s))}function Ce({msg:t}){return e.jsx("div",{className:"chart-empty",children:t||"Not enough data yet."})}function en({codes:t}){const[s,r]=l.useState("en"),[a,n]=l.useState(""),[i,c]=l.useState(()=>typeof window<"u"&&window.matchMedia("(max-width: 640px)").matches),[f,x]=l.useState(()=>!(typeof window<"u"&&window.matchMedia("(max-width: 640px)").matches));l.useEffect(()=>{if(typeof window>"u")return;const j=window.matchMedia("(max-width: 640px)"),N=()=>c(j.matches);return N(),j.addEventListener?j.addEventListener("change",N):j.addListener(N),()=>{j.addEventListener?j.removeEventListener("change",N):j.removeListener(N)}},[]),l.useEffect(()=>{x(!i)},[i]);const p=(t||[]).map(j=>({code:j,...rs[j]||{}})).filter(j=>j.code&&(j.en||j.tr)).sort((j,N)=>Xs(j.code,N.code)),o=a.trim().toLowerCase(),m=o?p.filter(j=>{const N=(j.en||"").toLowerCase(),w=(j.tr||"").toLowerCase();return(j.code||"").toLowerCase().includes(o)||N.includes(o)||w.includes(o)}):p,h=j=>{const N=j.en||"",w=j.tr||"";return s==="tr"?e.jsx("div",{className:"mudek-outcome-text",children:w||N}):e.jsx("div",{className:"mudek-outcome-text",children:N||w})};return e.jsxs("div",{className:"mudek-outcomes",children:[e.jsxs("div",{className:"mudek-outcomes-controls",children:[e.jsxs("label",{className:"mudek-search","aria-label":"Search outcomes",children:[e.jsx("span",{className:"mudek-search-icon","aria-hidden":"true",children:e.jsx(Wt,{})}),e.jsx("input",{value:a,onChange:j=>n(j.target.value),placeholder:"Search by code or text"})]}),e.jsx("button",{type:"button",className:"mudek-lang-toggle",onClick:()=>r(j=>j==="en"?"tr":"en"),"aria-label":s==="en"?"Switch to Turkish":"Switch to English",title:s==="en"?"T√ºrk√ße":"English",children:e.jsx("span",{"aria-hidden":"true",children:s==="en"?"üá¨üáß":"üáπüá∑"})}),o&&e.jsxs("span",{className:"mudek-results-count",children:[m.length," results"]})]}),m.length===0&&e.jsx("div",{className:"mudek-empty",children:"No outcomes match your search."}),e.jsx("div",{className:"mudek-table-scroll",children:e.jsxs("div",{className:`mudek-outcomes-table${i&&!f?" compact":""}${i&&f?" expanded":""}`,children:[e.jsxs("div",{className:"mudek-outcomes-head",children:[e.jsx("div",{className:"mudek-col-code",children:s==="tr"?"Kod":"Code"}),e.jsx("div",{className:"mudek-col-outcome",children:s==="tr"?"√áƒ±ktƒ±":"Outcome"})]}),e.jsx("div",{className:"mudek-outcomes-body",children:(i&&!f?m.slice(0,5):m).map(j=>e.jsxs("div",{className:"mudek-outcomes-row",children:[e.jsx("div",{className:"mudek-col-code",children:e.jsx("span",{className:"mudek-code",children:j.code})}),e.jsx("div",{className:"mudek-col-outcome",children:h(j)})]},j.code))})]})}),i&&m.length>5&&e.jsx("button",{type:"button",className:"mudek-outcomes-toggle",onClick:()=>x(j=>!j),children:f?"Collapse ‚Üë":"Show all outcomes ‚Üì"})]})}function tn(){return e.jsx("div",{className:"mudek-rubric-list",children:ne.map(t=>{const s=ns;return e.jsxs("div",{className:"mudek-rubric-criterion",children:[e.jsxs("div",{className:"mudek-rubric-criterion-title",children:[t.label,e.jsxs("span",{className:"mudek-rubric-criterion-meta",children:["(",t.mudek.join(", "),") ¬∑ max ",t.max," pts"]})]}),e.jsx("div",{className:"mudek-table-scroll",children:e.jsxs("table",{className:"mudek-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Range"}),e.jsx("th",{children:"Level"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:t.rubric.map(r=>{const a=s[r.level]||{};return e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Range",children:r.range}),e.jsx("td",{"data-label":"Level",children:e.jsx("span",{className:"mudek-band-badge",style:{background:a.bg,color:a.text},children:r.level})}),e.jsx("td",{"data-label":"Description",children:r.desc})]},r.level)})})]})})]},t.id)})})}function sn({outcomeCodes:t=Qs}){const[s,r]=l.useState(!1),[a,n]=l.useState("outcomes"),i=l.useRef(null),c=l.useRef(null);return l.useEffect(()=>{if(!s)return;function f(x){i.current&&!i.current.contains(x.target)&&r(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[s]),l.useEffect(()=>{if(!s)return;function f(x){var p;x.key==="Escape"&&(r(!1),(p=c.current)==null||p.focus())}return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[s]),e.jsxs("div",{className:"mudek-badge-wrap",ref:i,children:[e.jsxs("button",{ref:c,className:"mudek-badge",onClick:()=>r(f=>!f),"aria-label":"M√úDEK outcome mapping","aria-expanded":s,children:[e.jsx(ys,{}),e.jsx("span",{children:"M√úDEK"}),e.jsx("span",{className:`mudek-chevron${s?" open":""}`,"aria-hidden":"true",children:e.jsx(Pe,{})})]}),s&&e.jsxs("div",{className:"mudek-dropdown",role:"dialog","aria-label":"M√úDEK outcome mapping",children:[e.jsxs("div",{className:"mudek-dropdown-header",children:[e.jsx("span",{children:"M√úDEK Outcome Mapping"}),e.jsx("button",{className:"mudek-dropdown-close",onClick:()=>{var f;r(!1),(f=c.current)==null||f.focus()},"aria-label":"Close",children:"‚úï"})]}),e.jsxs("div",{className:"mudek-tabs",children:[e.jsx("button",{className:`mudek-tab-btn${a==="outcomes"?" active":""}`,onClick:()=>n("outcomes"),children:"M√úDEK Outcomes"}),e.jsx("button",{className:`mudek-tab-btn${a==="rubric"?" active":""}`,onClick:()=>n("rubric"),children:"Rubric Bands"})]}),e.jsxs("div",{className:"mudek-dropdown-body",children:[a==="outcomes"&&e.jsx(en,{codes:t}),a==="rubric"&&e.jsx(tn,{})]}),e.jsx("div",{className:"mudek-dropdown-footer",children:"‚Ñπ This chart provides evidence for the outcomes above."})]})]})}function nn({data:t}){const s=t||[];if(!s.length)return e.jsx(Ce,{});const r=ie.map(u=>{const S=Zs(s,u.key),g=S.length?it(S):0,b=u.max>0?g/u.max*100:0,A=S.length>1?Ht(S)/u.max*100:0;return{...u,avgRaw:g,pct:b,sd:A,n:S.length}}),a=38,n=22,i=34,c=8,f=22,x=20,p=160,o=r.length,m=i+o*a+(o-1)*n+c,h=f+p+x,j=u=>i+u*(a+n),N=u=>j(u)+a/2,w=u=>f+p*(1-Math.max(0,Math.min(100,u))/100);return e.jsxs("div",{className:"chart-card chart-compact-equal chart-fill-card dashboard-chart-card",children:[e.jsx("div",{className:"chart-title-row",children:e.jsxs("div",{children:[e.jsx("div",{className:"chart-title",children:"Programme-Level Outcome Averages"}),e.jsx("div",{className:"chart-note",children:"Grand mean ¬±1 SD normalized score per outcome across all groups and jurors."})]})}),e.jsx("div",{className:"chart-svg-fill",children:e.jsxs("svg",{className:"chart-main-svg",viewBox:`0 0 ${m} ${h}`,preserveAspectRatio:"xMidYMid meet",style:{width:"100%",height:"100%",display:"block"},children:[[0,25,50,75,100].map(u=>{const S=w(u);return e.jsxs("g",{children:[e.jsx("line",{x1:i,y1:S,x2:m-c,y2:S,stroke:u===0?"#cbd5e1":"#e2e8f0",strokeWidth:u===0?1.2:1}),e.jsx("text",{className:"chart-y-tick",x:i-4,y:S+3.5,textAnchor:"end",fontSize:"7",fill:"#94a3b8",children:u})]},u)}),e.jsx("text",{className:"chart-y-label",x:"10",y:f+p/2,transform:`rotate(-90 10 ${f+p/2})`,fontSize:"8",fill:"#94a3b8",textAnchor:"middle",children:"Normalized (%)"}),r.map((u,S)=>{const g=j(S),b=N(S),A=w(u.pct),P=p-(A-f),k=w(u.pct+u.sd),y=w(Math.max(0,u.pct-u.sd));return e.jsxs("g",{children:[e.jsxs("title",{children:[u.label," (",u.code,")",`
`,"Grand mean: ",u.pct.toFixed(1),"%",`
`,"SD: ¬±",u.sd.toFixed(1),"%",`
`,"N evaluations: ",u.n]}),e.jsx("rect",{x:g,y:f,width:a,height:p,rx:"3",fill:"#f1f5f9"}),P>0&&e.jsx("rect",{x:g,y:A,width:a,height:P,rx:"3",fill:u.color}),u.sd>0&&e.jsxs(e.Fragment,{children:[e.jsxs("g",{stroke:"#ffffff",strokeWidth:"3.2",strokeLinecap:"round",opacity:"0.65",children:[e.jsx("line",{x1:b,y1:k,x2:b,y2:y}),e.jsx("line",{x1:b-7,y1:k,x2:b+7,y2:k}),e.jsx("line",{x1:b-7,y1:y,x2:b+7,y2:y})]}),e.jsxs("g",{stroke:"#6b7280",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.75",children:[e.jsx("line",{x1:b,y1:k,x2:b,y2:y}),e.jsx("line",{x1:b-7,y1:k,x2:b+7,y2:k}),e.jsx("line",{x1:b-7,y1:y,x2:b+7,y2:y}),e.jsx("circle",{cx:b,cy:k,r:"1.6",fill:"#6b7280",stroke:"none"}),e.jsx("circle",{cx:b,cy:y,r:"1.6",fill:"#6b7280",stroke:"none"})]})]}),e.jsx("text",{className:"chart-bar-value",x:b,y:A+P/2+3,textAnchor:"middle",fontSize:"9",fill:"#ffffff",stroke:"rgba(15,23,42,0.35)",strokeWidth:"0.8",fontWeight:"700",style:{paintOrder:"stroke"},children:u.pct.toFixed(1)}),e.jsx("text",{className:"chart-x-label",x:b,y:f+p+13,textAnchor:"middle",fontSize:"8.5",fill:"#374151",fontWeight:"500",children:u.label})]},u.key)})]})})]})}function rn({stats:t}){const s=t.filter(m=>m.count>0);if(!s.length)return e.jsx(Ce,{});const r=14,a=4,n=ie.length*(r+a)+12,i=8,c=130,f=28,x=s.length*n+f+10,p=c+i,o=i+(c-lt/100*c);return e.jsxs("div",{className:"chart-card chart-compact-equal",children:[e.jsx("div",{className:"chart-title-row",children:e.jsxs("div",{children:[e.jsx("div",{className:"chart-title",children:"Outcome Achievement by Group"}),e.jsx("div",{className:"chart-note",children:"Compares each group's normalized score across all four M√úDEK-mapped criteria."})]})}),e.jsx("div",{className:"chart-svg-wrap",children:e.jsxs("svg",{className:"chart-main-svg",viewBox:`0 0 ${x} ${p+36}`,style:{width:"100%",height:"auto",display:"block"},children:[e.jsx("text",{x:"10",y:i+c/2,transform:`rotate(-90 10 ${i+c/2})`,fontSize:"8",fill:"#94a3b8",textAnchor:"middle",children:"Normalized (%)"}),[0,25,50,75,100].map(m=>{const h=i+(c-m/100*c);return e.jsxs("g",{children:[e.jsx("line",{x1:f,y1:h,x2:x,y2:h,stroke:"#e2e8f0",strokeWidth:"1"}),e.jsx("text",{x:f-4,y:h+4,fontSize:"8",textAnchor:"end",fill:"#94a3b8",children:m})]},m)}),e.jsx("g",{children:e.jsx("line",{x1:f,y1:o,x2:x,y2:o,stroke:"#6B7280",strokeWidth:"1",strokeDasharray:"3,3"})}),s.map((m,h)=>{const j=f+h*n+4;return e.jsxs("g",{children:[ie.map((N,w)=>{const u=(m.avg[N.key]||0)/N.max*100,S=u/100*c,g=j+w*(r+a);return e.jsxs("g",{children:[e.jsxs("title",{children:[m.name," ¬∑ ",N.label,": ",u.toFixed(1),"%"]}),e.jsx("rect",{x:g,y:i+(c-S),width:r,height:S,fill:N.color,rx:"2",opacity:"0.85"})]},N.key)}),e.jsx("text",{x:j+ie.length*(r+a)/2-a/2,y:i+c+14,fontSize:"9",textAnchor:"middle",fill:"#475569",fontWeight:"600",children:m.name})]},m.id)})]})}),e.jsxs("div",{className:"chart-legend",children:[ie.map(m=>e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:m.color}}),m.label]},m.key)),e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-line","aria-hidden":"true"}),"Reference (",lt,"%)"]})]})]})}function an({stats:t}){var S;const s=t.filter(g=>g.count>0),[r,a]=l.useState(((S=s[0])==null?void 0:S.id)??null);if(!s.length)return e.jsx(Ce,{});const n=s.find(g=>g.id===(r??s[0].id))??s[0],i=ie.length,c=130,f=120,x=82,p=g=>Math.PI*2*g/i-Math.PI/2,o=(g,b)=>({x:c+b*Math.cos(p(g)),y:f+b*Math.sin(p(g))}),m=ie.map(g=>(n.avg[g.key]||0)/g.max*100),h=ie.map(g=>{const b=s.map(A=>(A.avg[g.key]||0)/g.max*100);return it(b)}),j=m.map((g,b)=>o(b,g/100*x)),N=h.map((g,b)=>o(b,g/100*x)),w=j.map((g,b)=>`${b===0?"M":"L"}${g.x.toFixed(1)},${g.y.toFixed(1)}`).join(" ")+" Z",u=N.map((g,b)=>`${b===0?"M":"L"}${g.x.toFixed(1)},${g.y.toFixed(1)}`).join(" ")+" Z";return e.jsxs("div",{className:"chart-card chart-fill-card",children:[e.jsx("div",{className:"chart-title-row",children:e.jsxs("div",{children:[e.jsx("div",{className:"chart-title",children:"Competency Profile per Group"}),e.jsx("div",{className:"chart-note",children:"Shows whether a group's competency development is balanced or skewed across all four outcomes."})]})}),s.length>1&&e.jsx("select",{className:"radar-group-select",value:r??s[0].id,onChange:g=>a(Number(g.target.value)),children:s.map(g=>e.jsx("option",{value:g.id,children:g.name},g.id))}),e.jsx("div",{className:"chart-svg-fill",children:e.jsxs("svg",{className:"chart-main-svg",viewBox:"0 0 260 240",preserveAspectRatio:"xMidYMid meet",style:{width:"100%",maxWidth:280,height:"100%",display:"block"},children:[[.25,.5,.75,1].map(g=>{const A=ie.map((P,k)=>o(k,g*x)).map((P,k)=>`${k===0?"M":"L"}${P.x.toFixed(1)},${P.y.toFixed(1)}`).join(" ")+" Z";return e.jsx("path",{d:A,fill:"none",stroke:"#e2e8f0",strokeWidth:"1"},g)}),[.25,.5,.75,1].map(g=>{const b=o(0,g*x);return e.jsxs("text",{x:b.x.toFixed(1),y:(b.y-6).toFixed(1),textAnchor:"middle",fontSize:"8",fill:"#94a3b8",children:[Math.round(g*100),"%"]},`tick-${g}`)}),ie.map((g,b)=>{const A=o(b,x);return e.jsx("line",{x1:c,y1:f,x2:A.x.toFixed(1),y2:A.y.toFixed(1),stroke:"#cbd5e1",strokeWidth:"1"},b)}),e.jsx("path",{d:u,fill:"none",stroke:"#9CA3AF",strokeWidth:"1.5",strokeDasharray:"4,3"}),e.jsx("path",{d:w,fill:"rgba(59,130,246,0.18)",stroke:"#3b82f6",strokeWidth:"2.2",strokeLinejoin:"round"}),j.map((g,b)=>e.jsxs("g",{children:[e.jsxs("title",{children:[ie[b].label,": ",m[b].toFixed(1),"%",`
`,"Cohort avg: ",h[b].toFixed(1),"%"]}),e.jsx("circle",{cx:g.x.toFixed(1),cy:g.y.toFixed(1),r:"3.5",fill:"#3b82f6",stroke:"#fff",strokeWidth:"1.2"})]},b)),ie.map((g,b)=>{const A=o(b,x+16);return e.jsx("text",{x:A.x.toFixed(1),y:A.y.toFixed(1),textAnchor:"middle",dominantBaseline:"middle",fontSize:"9",fill:"#334155",fontWeight:"700",children:g.label},g.key)})]})}),e.jsxs("div",{className:"chart-legend",children:[e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:"#3b82f6"}}),n.name]}),e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:"#9CA3AF"}}),"Cohort Average (dashed)"]})]})]})}function on({data:t}){const s=t||[];if(!s.length)return e.jsx(Ce,{});const r=ie.map(y=>{const v=s.map(G=>Number(G[y.key])).filter(G=>Number.isFinite(G)&&G>0).map(G=>G/y.max*100).sort((G,se)=>G-se);if(!v.length)return{...y,empty:!0};const L=Ke(v,.25),I=Ke(v,.5),C=Ke(v,.75),T=C-L,Y=L-1.5*T,z=C+1.5*T,re=v.find(G=>G>=Y)??v[0],q=[...v].reverse().find(G=>G<=z)??v[v.length-1],ee=v.filter(G=>G<Y||G>z);return{...y,q1:L,med:I,q3:C,whiskerMin:re,whiskerMax:q,outliers:ee}}),a=320,n=36,i=10,c=6,f=160,x=f+c+20,p=(a-n-i)/r.length,o=18,m=r.flatMap(y=>y.empty?[]:[y.whiskerMin,y.whiskerMax,...y.outliers]),h=m.length?Math.min(...m):0,j=m.length?Math.max(...m):100,N=Math.max(5,j-h),w=Math.min(10,N*.12),u=Math.max(0,h-w),S=Math.min(100,j+w),g=y=>c+(f-(y-u)/Math.max(1,S-u)*f),b=N<=10?2:N<=20?5:N<=40?10:N<=70?20:25,A=Math.ceil(u/b)*b,P=Math.floor(S/b)*b,k=[];for(let y=A;y<=P;y+=b)k.push(y);return k.length<2&&(k.length=0,k.push(Math.round(u),Math.round((u+S)/2),Math.round(S))),e.jsxs("div",{className:"chart-card chart-equal-bottom dashboard-chart-card",children:[e.jsx("div",{className:"chart-title-row",children:e.jsxs("div",{children:[e.jsx("div",{className:"chart-title",children:"Score Distribution by Criterion"}),e.jsx("div",{className:"chart-note",children:"Reveals inter-juror spread for each criterion ‚Äî evidence of measurement reliability."})]})}),e.jsx("div",{className:"chart-svg-fill heatmap-svg-fill",children:e.jsxs("svg",{className:"chart-main-svg",viewBox:`0 0 ${a} ${x}`,style:{width:"100%",height:"100%",display:"block"},children:[k.map(y=>{const v=g(y);return e.jsxs("g",{children:[e.jsx("line",{x1:n,y1:v,x2:a-i,y2:v,stroke:"#e2e8f0",strokeWidth:"1"}),e.jsx("text",{x:n-4,y:v+4,fontSize:"8",textAnchor:"end",fill:"#94a3b8",children:Math.round(y)})]},y)}),e.jsx("line",{x1:n,y1:c,x2:n,y2:c+f,stroke:"#e2e8f0",strokeWidth:"1"}),e.jsx("text",{x:"10",y:c+f/2,transform:`rotate(-90 10 ${c+f/2})`,fontSize:"8",fill:"#94a3b8",textAnchor:"middle",children:"Normalized (%)"}),r.map((y,v)=>{const L=n+v*p+p/2;if(y.empty)return e.jsx("text",{x:L,y:c+f+16,fontSize:"9",textAnchor:"middle",fill:"#94a3b8",children:y.label},y.key);const I=g(y.q1),C=g(y.q3),T=g(y.med);return e.jsxs("g",{children:[e.jsx("rect",{x:L-o/2,y:C,width:o,height:Math.max(2,I-C),fill:"rgba(59,130,246,0.18)",stroke:y.color,strokeWidth:"1.6"}),e.jsx("line",{x1:L-o/2,y1:T,x2:L+o/2,y2:T,stroke:y.color,strokeWidth:"2.2"}),e.jsx("text",{x:L,y:c+f+16,fontSize:"9",textAnchor:"middle",fill:"#475569",fontWeight:"600",children:y.label})]},y.key)})]})}),e.jsxs("div",{className:"chart-legend boxplot-legend",children:[e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"boxplot-legend-box"}),"IQR band (Q1‚ÄìQ3)"]}),e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"boxplot-legend-median"}),"Median"]})]})]})}function ln({stats:t,data:s}){const r=t.filter(h=>h.count>0),a=s||[];if(!r.length||!a.length)return e.jsx(Ce,{});const n=ie.map(h=>r.map(j=>{const N=a.filter(S=>S.projectId===j.id).map(S=>Number(S[h.key])).filter(S=>Number.isFinite(S));if(N.length<2)return{cv:null,m:null,sd:null,n:N.length};const w=it(N);if(!w)return{cv:null,m:w,sd:null,n:N.length};const u=Ht(N);return{cv:u/w*100,m:w,sd:u,n:N.length}})),i=h=>h===null?{fill:"#f1f5f9",text:"#94a3b8"}:h<10?{fill:"#dcfce7",text:"#166534"}:h<15?{fill:"#bbf7d0",text:"#166534"}:h<25?{fill:"#fef08a",text:"#92400e"}:{fill:"#fecaca",text:"#991b1b"},c=100,f=26,x=96,p=48,o=c+r.length*x,m=f+ie.length*p+10;return e.jsxs("div",{className:"chart-card chart-fill-card",children:[e.jsx("div",{className:"chart-title-row",children:e.jsxs("div",{children:[e.jsx("div",{className:"chart-title",children:"Juror Consistency Heatmap"}),e.jsx("div",{className:"chart-note",children:"Identifies which group √ó criterion combinations have poor juror agreement, guiding rubric improvement."})]})}),e.jsxs("div",{className:"cv-formula-block",children:[e.jsx("span",{className:"cv-formula-pill","aria-label":"CV equals sigma divided by x bar times 100",children:e.jsx("math",{xmlns:"http://www.w3.org/1998/Math/MathML",className:"cv-formula-math",children:e.jsxs("mrow",{children:[e.jsx("mi",{children:"CV"}),e.jsx("mo",{children:"="}),e.jsxs("mrow",{children:[e.jsx("mo",{children:"("}),e.jsxs("mfrac",{children:[e.jsx("mi",{children:"œÉ"}),e.jsx("mi",{children:"Œº"})]}),e.jsx("mo",{children:")"})]}),e.jsx("mo",{children:"√ó"}),e.jsx("mn",{children:"100"})]})})}),e.jsx("span",{className:"cv-formula-legend",children:"œÉ = std. deviation ¬†¬∑¬† Œº = mean score ¬†¬∑¬† CV = juror disagreement %"})]}),e.jsx("div",{className:"chart-svg-fill heatmap-svg-fill",children:e.jsxs("svg",{className:"chart-main-svg",viewBox:`0 0 ${o} ${m}`,style:{width:"100%",maxWidth:o,height:"100%",display:"block"},children:[r.map((h,j)=>e.jsx("text",{x:c+j*x+x/2,y:16,textAnchor:"middle",fontSize:"11",fill:"#475569",fontWeight:"600",children:h.name},h.id)),ie.map((h,j)=>e.jsxs("g",{children:[e.jsx("text",{x:c-10,y:f+j*p+p/2+6,textAnchor:"end",fontSize:"12",fill:"#475569",fontWeight:"600",children:h.label}),r.map((N,w)=>{const u=n[j][w],S=u.cv,g=c+w*x,b=f+j*p,A=i(S),P=[`${N.name} ¬∑ ${h.label}`,`CV: ${S===null?"N/A":Math.round(S)+"%"}`,u.m!==null?`Mean: ${(u.m/h.max*100).toFixed(1)}%`:"",u.sd!==null?`SD: ${u.sd.toFixed(2)}`:"",`N jurors: ${u.n}`].filter(Boolean).join(`
`);return e.jsxs("g",{children:[e.jsx("title",{children:P}),e.jsx("rect",{x:g+3,y:b+3,width:x-6,height:p-6,rx:"12",fill:A.fill,stroke:"rgba(148,163,184,0.25)"}),e.jsx("text",{x:g+x/2,y:b+p/2+6,textAnchor:"middle",fontSize:"12",fill:A.text,fontWeight:"700",children:S===null?"N/A":`${Math.round(S)}%`})]},`${h.key}-${N.id}`)})]},h.key))]})}),e.jsxs("div",{className:"heatmap-legend",children:[e.jsxs("span",{className:"heatmap-legend-item",children:[e.jsx("span",{className:"heatmap-legend-swatch",style:{background:"#dcfce7",borderColor:"#bbf7d0"}}),"<10% CV (excellent)"]}),e.jsxs("span",{className:"heatmap-legend-item",children:[e.jsx("span",{className:"heatmap-legend-swatch",style:{background:"#bbf7d0",borderColor:"#86efac"}}),"10‚Äì15% CV"]}),e.jsxs("span",{className:"heatmap-legend-item",children:[e.jsx("span",{className:"heatmap-legend-swatch",style:{background:"#fef08a",borderColor:"#fde047"}}),"15‚Äì25% CV"]}),e.jsxs("span",{className:"heatmap-legend-item",children:[e.jsx("span",{className:"heatmap-legend-swatch",style:{background:"#fecaca",borderColor:"#fca5a5"}}),">25% CV (poor)"]})]})]})}function cn({data:t}){const s=t||[];if(!s.length)return e.jsx(Ce,{});const r=[{key:"insufficient",label:"Insufficient",color:"#ef4444"},{key:"developing",label:"Developing",color:"#f59e0b"},{key:"good",label:"Good",color:"#a3e635"},{key:"excellent",label:"Excellent",color:"#22c55e"}],a=(u,S)=>{if(!Number.isFinite(u))return null;for(const g of S)if(u>=g.min&&u<=g.max)return g.level.toLowerCase();return null},n=ie.map(u=>{const S=ne.find(k=>k.id===u.key),g=s.map(k=>Number(k[u.key])).filter(k=>Number.isFinite(k)),b={excellent:0,good:0,developing:0,insufficient:0};g.forEach(k=>{const y=a(k,S.rubric);y&&(b[y]+=1)});const A=g.length||1,P=r.map(k=>({...k,pct:b[k.key]/A*100,count:b[k.key]}));return{...u,pct:P,total:g.length}}),i=r.map(u=>({...u,anyPresent:n.some(S=>{var g;return((g=S.pct.find(b=>b.key===u.key))==null?void 0:g.pct)>0})})),c=340,f=32,x=10,p=8,o=28,m=180,h=p+m+o,j=(c-f-x)/n.length,N=Math.min(44,j*.65),w=u=>u/100*m;return e.jsxs("div",{className:"chart-card chart-equal-bottom dashboard-chart-card",children:[e.jsx("div",{className:"chart-title-row",children:e.jsxs("div",{children:[e.jsx("div",{className:"chart-title",children:"Achievement Level Distribution"}),e.jsx("div",{className:"chart-note",children:"% of evaluations per rubric band ‚Äî directly maps to M√úDEK continuous improvement evidence."})]})}),e.jsx("div",{className:"chart-svg-fill rubric-svg-fill",children:e.jsxs("svg",{className:"chart-main-svg",viewBox:`0 0 ${c} ${h}`,style:{width:"100%",height:"auto",display:"block"},children:[[0,25,50,75,100].map(u=>{const S=p+m-w(u);return e.jsxs("g",{children:[e.jsx("line",{x1:f,y1:S,x2:c-x,y2:S,stroke:"#e2e8f0",strokeWidth:"1"}),e.jsxs("text",{x:f-4,y:S+4,fontSize:"8",textAnchor:"end",fill:"#94a3b8",children:[u,"%"]})]},u)}),n.map((u,S)=>{const g=f+S*j+j/2,b=g-N/2;let A=0;return e.jsxs("g",{children:[u.pct.map(P=>{if(P.pct<=0)return null;const k=w(P.pct),y=p+m-A-k;A+=k;const v=k>=16;return e.jsxs("g",{children:[e.jsxs("title",{children:[u.label," ¬∑ ",P.label,`
`,"Count: ",P.count," evaluation",P.count!==1?"s":"",`
`,"Share: ",P.pct.toFixed(0),"%"]}),e.jsx("rect",{x:b,y,width:N,height:k,fill:P.color}),v&&e.jsxs("text",{x:g,y:y+k/2+4,textAnchor:"middle",fontSize:"9",fill:"#fff",fontWeight:"700",children:[P.pct.toFixed(0),"%"]})]},P.key)}),e.jsx("text",{x:g,y:p+m+16,textAnchor:"middle",fontSize:"9",fill:"#475569",fontWeight:"600",children:u.label})]},u.key)})]})}),e.jsx("div",{className:"chart-legend rubric-legend",children:[...i].reverse().map(u=>e.jsxs("span",{className:"legend-item",style:u.anyPresent?void 0:{opacity:.35,textDecoration:"line-through"},children:[e.jsx("span",{className:"legend-dot",style:{background:u.color}}),u.label]},u.key))})]})}function dn(t){return t?t.toLocaleString("tr-TR",{timeZone:"Europe/Istanbul",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).replace(","," ¬∑"):"‚Äî"}function un(){return e.jsxs("div",{className:"dashboard-loading",children:[e.jsx("div",{className:"dashboard-skeleton-row",children:e.jsx("div",{className:"skeleton-card skeleton-wide"})}),e.jsxs("div",{className:"dashboard-skeleton-row",children:[e.jsx("div",{className:"skeleton-card"}),e.jsx("div",{className:"skeleton-card"})]}),e.jsx("div",{className:"dashboard-skeleton-row",children:e.jsx("div",{className:"skeleton-card skeleton-wide"})}),e.jsxs("div",{className:"dashboard-skeleton-row",children:[e.jsx("div",{className:"skeleton-card"}),e.jsx("div",{className:"skeleton-card"})]})]})}function mn(){return e.jsxs("div",{className:"dashboard-state-card",children:[e.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#FCA5A5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("p",{className:"dashboard-state-title",children:"Could not load data"}),e.jsx("span",{className:"dashboard-state-sub",children:"Check your connection and refresh the page."})]})}function hn(){return e.jsxs("div",{className:"dashboard-state-card",children:[e.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"21 8 21 21 3 21 3 8"}),e.jsx("rect",{x:"1",y:"3",width:"22",height:"5"}),e.jsx("line",{x1:"10",y1:"12",x2:"14",y2:"12"})]}),e.jsx("p",{className:"dashboard-state-title",children:"No data available"}),e.jsx("span",{className:"dashboard-state-sub",children:"Evaluations will appear here once jurors submit their scores."})]})}function pn({dashboardStats:t,submittedData:s,lastRefresh:r,loading:a,error:n}){const i=l.useRef(null),[c,f]=l.useState(!1),x=l.useRef(null);async function p(){if(c||!i.current)return;f(!0);const m=i.current,h=m.querySelector(".dashboard-toolbar"),j=m.querySelector(".print-header"),N=m.querySelectorAll(".mudek-badge-wrap"),w=(h==null?void 0:h.style.display)??"",u=(j==null?void 0:j.style.display)??"",S=[];N.forEach(A=>S.push(A.style.visibility??""));const g=()=>{h&&(h.style.display=w),j&&(j.style.display=u),N.forEach((A,P)=>{A.style.visibility=S[P]||""}),m.classList.remove("print-mode"),f(!1),x.current=null};x.current=g,h&&(h.style.display="none"),j&&(j.style.display="block"),N.forEach(A=>A.style.visibility="hidden"),m.classList.add("print-mode");const b=()=>g();window.addEventListener("afterprint",b,{once:!0}),requestAnimationFrame(()=>{setTimeout(()=>{window.print()},50)})}l.useEffect(()=>()=>{x.current&&x.current()},[]);const o=dn(r);return a?e.jsx("div",{className:"dashboard-print-wrap",children:e.jsx(un,{})}):n?e.jsx("div",{className:"dashboard-print-wrap",children:e.jsx(mn,{})}):!s||s.length===0?e.jsx("div",{className:"dashboard-print-wrap",children:e.jsx(hn,{})}):e.jsxs("div",{className:"dashboard-print-wrap",ref:i,children:[e.jsxs("div",{className:"print-header",children:[e.jsx("div",{className:"print-header-title",children:ge.appTitle}),e.jsxs("div",{className:"print-header-sub",children:[ge.courseName," ‚Äî ",ge.university]}),e.jsxs("div",{className:"print-header-meta",children:["Dashboard Report ¬†¬∑¬† ",o,"¬†¬∑¬† ",s.length," final submission",s.length!==1?"s":"","¬†¬∑¬† ",t.length," group",t.length!==1?"s":""]})]}),e.jsxs("div",{className:"dashboard-toolbar no-print",children:[e.jsx("div",{className:"dashboard-toolbar-left",children:e.jsx(sn,{})}),e.jsx("span",{className:"dashboard-toolbar-divider","aria-hidden":"true"}),e.jsxs("button",{className:"pdf-export-btn",onClick:p,disabled:c,children:[e.jsx(Pt,{}),c?"Preparing PDF‚Ä¶":"Export PDF"]})]}),e.jsx("div",{className:"dashboard-section-label",lang:"en",children:"Outcome Distribution"}),e.jsx("div",{className:"dashboard-grid dashboard-row","data-row":"1",children:e.jsx("div",{className:"chart-span-2 chart-card dashboard-card",id:"chart-1",children:e.jsx(rn,{stats:t})})}),e.jsx("div",{className:"dashboard-section-label",lang:"en",children:"Programme Overview"}),e.jsxs("div",{className:"dashboard-grid dashboard-row","data-row":"2",children:[e.jsx("div",{className:"chart-card dashboard-card",id:"chart-2",children:e.jsx(nn,{data:s})}),e.jsx("div",{className:"chart-card dashboard-card",id:"chart-3",children:e.jsx(an,{stats:t})})]}),e.jsx("div",{className:"dashboard-section-label",lang:"en",children:"Juror Consistency"}),e.jsx("div",{className:"dashboard-grid dashboard-row","data-row":"3",children:e.jsx("div",{className:"chart-span-2 chart-card dashboard-card",id:"chart-4",children:e.jsx(ln,{stats:t,data:s})})}),e.jsx("div",{className:"dashboard-section-label",lang:"en",children:"Criterion Analysis"}),e.jsxs("div",{className:"dashboard-grid dashboard-row","data-row":"4",children:[e.jsx("div",{className:"chart-card dashboard-card",id:"chart-5",children:e.jsx(on,{data:s})}),e.jsx("div",{className:"chart-card dashboard-card",id:"chart-6",children:e.jsx(cn,{data:s})})]})]})}const yt=K.map((t,s)=>typeof t=="string"?{id:s+1,name:t,desc:"",students:[]}:{id:t.id??s+1,name:t.name??`Group ${s+1}`,desc:t.desc??"",students:t.students??[]});function Ee(t){if(t===""||t===null||t===void 0||typeof t=="string"&&t.trim()==="")return"";const s=Number(t);return Number.isFinite(s)?s:""}const xn=[{key:"in_progress",label:"In Progress"},{key:"editing",label:"Editing"},{key:"submitted",label:"Submitted"}],jn=[{key:"technical",label:"Technical /30"},{key:"design",label:"Written /30"},{key:"delivery",label:"Oral /30"},{key:"teamwork",label:"Teamwork /10"},{key:"total",label:"Total"}];function kt(t){return t.jurorId?t.jurorId:`${(t.juryName||"").trim().toLowerCase()}__${(t.juryDept||"").trim().toLowerCase()}`}function fn({open:t,anchorRect:s,onClose:r,className:a,contentKey:n,mode:i="anchor",children:c}){const f=l.useRef(null),[x,p]=l.useState({left:0,top:0,visibility:"hidden"});return l.useLayoutEffect(()=>{if(!t||!f.current)return;const o=f.current,m=()=>{if(i==="center"){p({left:"50%",top:"50%",transform:"translate(-50%, -50%)",visibility:"visible"});return}if(!s)return;const h=8,j=o.offsetWidth,N=o.offsetHeight,w=window.innerWidth,u=window.innerHeight;let S=s.left;S=Math.min(S,w-j-h),S=Math.max(h,S);let g=s.bottom+6;if(g+N+h>u){const b=s.top-N-6;b>=h?g=b:g=Math.max(h,u-N-h)}p({left:S,top:g,transform:"none",visibility:"visible"})};return m(),window.addEventListener("resize",m),window.addEventListener("orientationchange",m),()=>{window.removeEventListener("resize",m),window.removeEventListener("orientationchange",m)}},[t,s,n,i]),!t||i!=="center"&&!s?null:wt.createPortal(e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"filter-overlay",onClick:r}),e.jsx("div",{ref:f,className:a,style:x,role:"dialog","aria-modal":"true",onClick:o=>o.stopPropagation(),onPointerDown:o=>o.stopPropagation(),children:c})]}),document.body)}function gn({data:t,jurors:s}){const[r,a]=l.useState("ALL"),[n,i]=l.useState("ALL"),[c,f]=l.useState("ALL"),[x,p]=l.useState(new Set),[o,m]=l.useState(""),[h,j]=l.useState(""),[N,w]=l.useState(null),[u,S]=l.useState(""),[g,b]=l.useState("tsMs"),[A,P]=l.useState("desc"),[k,y]=l.useState(null),[v,L]=l.useState(null),[I,C]=l.useState(()=>typeof window<"u"&&window.matchMedia("(max-width: 480px)").matches),T=l.useMemo(()=>yt.map(d=>({id:d.id,label:`Group ${d.id}`,name:d.name})).sort((d,F)=>d.id-F.id),[]),Y=l.useMemo(()=>{const d=new Map;return s.forEach(F=>{const W=String((F==null?void 0:F.dept)??"").trim();W&&d.set(W.toLowerCase(),W)}),Array.from(d.entries()).sort((F,W)=>F[1].localeCompare(W[1])).map(([F,W])=>({key:F,label:W}))},[s]);l.useEffect(()=>{if(!I||k!=="timestamp")return;const d=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=d}},[k,I]),l.useEffect(()=>{if(typeof window>"u")return;const d=window.matchMedia("(max-width: 480px)"),F=()=>C(d.matches);return F(),d.addEventListener?d.addEventListener("change",F):d.addListener(F),()=>{d.addEventListener?d.removeEventListener("change",F):d.removeListener(F)}},[]);function z(d){const F=String(d||"").replace(/\D/g,"").slice(0,8),W=F.slice(0,2),_=F.slice(2,4),Q=F.slice(4,8);return F.length<=2?W:F.length<=4?`${W}/${_}`:`${W}/${_}/${Q}`}function re(d){if(!/^\d{2}\/\d{2}\/\d{4}$/.test(d))return!1;const[F,W,_]=d.split("/").map(Number);if(_<2e3||_>2100||W<1||W>12||F<1)return!1;const Q=new Date(_,W,0).getDate();return F<=Q}function q(d){if(!re(d))return null;const[F,W,_]=d.split("/").map(Number);return new Date(_,W-1,F).getTime()}const ee=l.useMemo(()=>o?q(o):null,[o]),G=l.useMemo(()=>h?q(h):null,[h]),se=l.useMemo(()=>ee===null||G===null?!1:ee>G,[ee,G]);l.useEffect(()=>{w(o&&ee===null||h&&G===null?"Invalid date format (DD/MM/YYYY).":se?"The 'From' date cannot be later than the 'To' date.":null)},[o,h,ee,G,se]);const xe=l.useMemo(()=>{let d=0;return r!=="ALL"&&(d+=1),n!=="ALL"&&(d+=1),c!=="ALL"&&(d+=1),x.size>0&&(d+=1),(o||h)&&(d+=1),u&&(d+=1),d},[r,n,c,x,o,h,u]),ve=xe>0,ue=r!=="ALL"||k==="juror",ae=n!=="ALL"||k==="dept",oe=c!=="ALL"||k==="group",te=!!o||!!h||k==="timestamp",le=x.size>0||k==="status",de=!!u||k==="comments";function Ne(){a("ALL"),i("ALL"),f("ALL"),p(new Set),m(""),j(""),w(null),S(""),b("tsMs"),P("desc"),y(null),L(null)}function je(d){p(F=>{const W=new Set(F);return W.has(d)?W.delete(d):W.add(d),W})}function ce(){y(null),L(null)}function me(d,F){var _,Q;const W=(Q=(_=F==null?void 0:F.currentTarget)==null?void 0:_.getBoundingClientRect)==null?void 0:Q.call(_);y(Z=>{const X=Z===d?null:d;return X&&W&&L(W),X||L(null),X})}function M(d){return d===""||d===null||d===void 0||typeof d=="string"&&d.trim()===""?!0:typeof d=="number"?!Number.isFinite(d):!1}const $=l.useMemo(()=>{const d=ee??0,F=G??1/0,W=Number.isFinite(F)?F+24*60*60*1e3-1:F;let _=t.slice();if(r!=="ALL"&&(_=_.filter(Z=>kt(Z)===r)),c!=="ALL"&&(_=_.filter(Z=>String(Z.projectId)===c)),n!=="ALL"){const Z=n.toLowerCase();_=_.filter(X=>String(X.juryDept??"").trim().toLowerCase()===Z)}if(x.size>0&&(_=_.filter(Z=>{const X=Z.editingFlag==="editing"||Z.status==="editing",he=Z.status==="group_submitted"||Z.status==="all_submitted",be=Z.status==="in_progress";return!!(x.has("editing")&&X||x.has("submitted")&&he||x.has("in_progress")&&be)})),(o||h)&&((!o||ee!==null)&&(!h||G!==null)&&!se)&&(_=_.filter(Z=>{const X=Z.tsMs||Ge(Z.timestamp);return X>=d&&X<=W})),u){const Z=u.toLowerCase();_=_.filter(X=>(X.comments||"").toLowerCase().includes(Z))}return _.sort((Z,X)=>{const he=Z[g],be=X[g],Te=M(he),_e=M(be);return Te&&_e?0:Te?1:_e?-1:A==="asc"?fe(he,be):fe(be,he)}),_},[t,r,c,n,x,o,h,u,g,A]);function V(d){g===d?P(F=>F==="asc"?"desc":"asc"):(b(d),P("desc"))}const H=d=>g!==d?e.jsx(Tt,{}):A==="asc"?e.jsx(_t,{}):e.jsx(Rt,{}),B=(()=>{if(k==="juror")return{className:"col-filter-popover col-filter-popover-portal",contentKey:r,content:e.jsxs(e.Fragment,{children:[e.jsxs("select",{autoFocus:!0,value:r,onChange:d=>{a(d.target.value),ce()},className:ue?"filter-input-active":"",children:[e.jsx("option",{value:"ALL",children:"All jurors"}),s.map(d=>e.jsxs("option",{value:d.key,children:[d.name,d.dept?` (${d.dept})`:""]},d.key))]}),r!=="ALL"&&e.jsx("button",{className:"col-filter-clear",onClick:()=>{a("ALL"),ce()},children:"Clear"})]})};if(k==="dept")return{className:"col-filter-popover col-filter-popover-portal",contentKey:n,content:e.jsxs(e.Fragment,{children:[e.jsxs("select",{autoFocus:!0,value:n,onChange:d=>{i(d.target.value),ce()},className:ae?"filter-input-active":"",children:[e.jsx("option",{value:"ALL",children:"All departments"}),Y.map(d=>e.jsx("option",{value:d.key,children:d.label},d.key))]}),n!=="ALL"&&e.jsx("button",{className:"col-filter-clear",onClick:()=>{i("ALL"),ce()},children:"Clear"})]})};if(k==="group")return{className:"col-filter-popover col-filter-popover-portal",contentKey:c,content:e.jsxs(e.Fragment,{children:[e.jsxs("select",{autoFocus:!0,value:c,onChange:d=>{f(d.target.value),ce()},className:oe?"filter-input-active":"",children:[e.jsx("option",{value:"ALL",children:"All groups"}),T.map(d=>e.jsx("option",{value:String(d.id),children:d.label},d.id))]}),c!=="ALL"&&e.jsx("button",{className:"col-filter-clear",onClick:()=>{f("ALL"),ce()},children:"Clear"})]})};if(k==="timestamp"){const d=_=>{const Q=z(_);m(Q)},F=_=>{const Q=z(_);j(Q)},W=()=>{if(o&&ee===null||h&&G===null){w("Invalid date format (DD/MM/YYYY).");return}w(se?"The 'From' date cannot be later than the 'To' date.":null)};return{className:`col-filter-popover col-filter-popover-portal col-filter-popover-timestamp${I?" is-centered":""}`,contentKey:`${o}|${h}`,mode:I?"center":"anchor",content:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"timestamp-field",children:[e.jsx("label",{children:"From"}),e.jsx("input",{autoFocus:!0,type:"text",inputMode:"numeric",maxLength:10,placeholder:"DD/MM/YYYY",value:o,onChange:_=>d(_.target.value),onBlur:W,className:`timestamp-date-input ${N?"is-invalid ":""}${te?"filter-input-active":""}`,"aria-invalid":!!N})]}),e.jsxs("div",{className:"timestamp-field",children:[e.jsx("label",{children:"To"}),e.jsx("input",{type:"text",inputMode:"numeric",maxLength:10,placeholder:"DD/MM/YYYY",value:h,onChange:_=>F(_.target.value),onBlur:W,className:`timestamp-date-input ${N?"is-invalid ":""}${te?"filter-input-active":""}`,"aria-invalid":!!N})]}),N&&e.jsx("div",{className:"timestamp-error",role:"alert",children:N}),I?e.jsxs("div",{className:"timestamp-actions",children:[(o||h)&&e.jsx("button",{className:"col-filter-clear",onClick:()=>{m(""),j("")},children:"Clear"}),e.jsx("button",{className:"timestamp-done-btn",onClick:ce,disabled:!!N,children:"Done"})]}):(o||h)&&e.jsx("button",{className:"col-filter-clear",onClick:()=>{m(""),j("")},children:"Clear"})]})}}return k==="status"?{className:"col-filter-popover col-filter-popover-portal col-filter-popover-status",contentKey:Array.from(x).sort().join("|"),content:e.jsxs(e.Fragment,{children:[xn.map(({key:d,label:F})=>e.jsxs("label",{className:"status-option",children:[e.jsx("input",{type:"checkbox",checked:x.has(d),onChange:()=>je(d)}),F]},d)),x.size>0&&e.jsx("button",{className:"col-filter-clear",onClick:()=>{p(new Set),ce()},children:"Clear"})]})}:k==="comments"?{className:"col-filter-popover col-filter-popover-portal",contentKey:u,content:e.jsxs(e.Fragment,{children:[e.jsx("input",{autoFocus:!0,placeholder:"Search comments‚Ä¶",value:u,onChange:d=>S(d.target.value),className:de?"filter-input-active":""}),u&&e.jsx("button",{className:"col-filter-clear",onClick:()=>{S(""),ce()},children:"Clear"})]})}:null})();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"detail-table-toolbar",children:[e.jsxs("span",{className:"filter-count",children:["Showing ",e.jsx("strong",{children:$.length})," row",$.length!==1?"s":""]}),ve&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"filters-active-pill",children:["Filters: ",xe]}),e.jsx("button",{type:"button",className:"filters-clear-btn",onClick:Ne,"aria-label":"Clear filters",title:"Clear filters",children:e.jsx(at,{})})]}),e.jsxs("button",{className:"xlsx-export-btn",onClick:()=>{Os($)},children:[e.jsx(Pt,{}),e.jsx("span",{className:"export-label-long",children:"Export Excel"}),e.jsx("span",{className:"export-label-short",children:"Excel"})]})]}),e.jsx(fn,{open:!!B,anchorRect:v,onClose:ce,className:B==null?void 0:B.className,contentKey:B==null?void 0:B.contentKey,mode:B==null?void 0:B.mode,children:B==null?void 0:B.content}),e.jsx("div",{className:"detail-table-wrap",children:e.jsxs("table",{className:"detail-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:2},children:[e.jsx("span",{className:`col-sort-label details-col-label${ue?" filtered":""}`,onClick:()=>V("juryName"),children:"Juror"}),e.jsx("div",{className:`col-filter-hotspot${ue?" active filter-icon-active":""}`,onPointerDown:d=>{d.preventDefault(),d.stopPropagation(),me("juror",d)},title:"Filter by juror",children:e.jsx(ke,{})})]})}),e.jsx("th",{style:{position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:2},children:[e.jsx("span",{className:`col-sort-label details-col-label${ae?" filtered":""}`,onClick:()=>V("juryDept"),children:"Department"}),e.jsx("div",{className:`col-filter-hotspot${ae?" active filter-icon-active":""}`,onPointerDown:d=>{d.preventDefault(),d.stopPropagation(),me("dept",d)},title:"Filter by department",children:e.jsx(ke,{})})]})}),e.jsx("th",{style:{position:"relative",whiteSpace:"nowrap"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:2},children:[e.jsx("span",{className:`col-sort-label details-col-label${oe?" filtered":""}`,onClick:()=>V("projectId"),children:"Group"}),e.jsx("div",{className:`col-filter-hotspot${oe?" active filter-icon-active":""}`,onPointerDown:d=>{d.preventDefault(),d.stopPropagation(),me("group",d)},title:"Filter by group",children:e.jsx(ke,{})})]})}),e.jsx("th",{style:{position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:2},children:[e.jsx("span",{className:`col-sort-label details-col-label${te?" filtered":""}`,onClick:()=>V("tsMs"),children:"Timestamp"}),e.jsx("div",{className:`col-filter-hotspot${te?" active filter-icon-active":""}`,onPointerDown:d=>{d.preventDefault(),d.stopPropagation(),me("timestamp",d)},title:"Filter by date",children:e.jsx(ke,{})})]})}),e.jsx("th",{style:{position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:2},children:[e.jsx("span",{className:`col-sort-label details-col-label${le?" filtered":""}`,onClick:()=>V("status"),children:"Status"}),e.jsx("div",{className:`col-filter-hotspot${le?" active filter-icon-active":""}`,onPointerDown:d=>{d.preventDefault(),d.stopPropagation(),me("status",d)},title:"Filter by status",children:e.jsx(ke,{})})]})}),jn.map(({key:d,label:F})=>e.jsx("th",{style:{cursor:"pointer",whiteSpace:"nowrap"},onClick:()=>V(d),children:e.jsxs("span",{className:`col-sort-label details-col-label${g===d?" filtered":""}`,children:[F," ",e.jsx("span",{className:`sort-icon${g===d?" icon-active-box":""}`,children:H(d)})]})},d)),e.jsx("th",{style:{position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:2},children:[e.jsx("span",{className:`details-col-label${de?" filtered":""}`,children:"Comments"}),e.jsx("div",{className:`col-filter-hotspot${de?" active filter-icon-active":""}`,onPointerDown:d=>{d.preventDefault(),d.stopPropagation(),me("comments",d)},title:"Filter by comments",children:e.jsx(ke,{})})]})})]})}),e.jsxs("tbody",{children:[$.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:11,style:{textAlign:"center",padding:32,color:"#64748b"},children:"No matching rows."})}),$.map((d,F)=>{yt.find(_=>_.id===d.projectId);const W=d.status==="in_progress";return e.jsxs("tr",{className:F%2===1?"row-even":"",children:[e.jsx("td",{className:"cell-juror",children:d.juryName}),e.jsx("td",{className:"cell-dept",style:{fontSize:12,color:"#475569"},children:d.juryDept}),e.jsx("td",{className:"cell-group",style:{whiteSpace:"nowrap"},children:e.jsx("div",{className:"cell-group-wrap",title:`Group ${d.projectId}`,style:{cursor:"default"},children:e.jsxs("strong",{className:"cell-group-title",children:["Group ",d.projectId]})})}),e.jsx("td",{style:{fontSize:12,color:"#475569",whiteSpace:"nowrap"},children:Ze(d.timestamp)}),e.jsx("td",{children:e.jsx(De,{status:d.status,editingFlag:d.editingFlag})}),e.jsx("td",{style:{color:W?"#94a3b8":void 0},children:Ee(d.technical)}),e.jsx("td",{style:{color:W?"#94a3b8":void 0},children:Ee(d.design)}),e.jsx("td",{style:{color:W?"#94a3b8":void 0},children:Ee(d.delivery)}),e.jsx("td",{style:{color:W?"#94a3b8":void 0},children:Ee(d.teamwork)}),e.jsx("td",{style:{color:W?"#94a3b8":void 0},children:e.jsx("strong",{children:Ee(d.total)})}),e.jsx("td",{className:"comment-cell cell-comment",children:d.comments})]},`${kt(d)}-${d.projectId}-${F}`)})]})]})})]})}const Nt=K.map((t,s)=>typeof t=="string"?{id:s+1,name:t,desc:"",students:[]}:{id:t.id??s+1,name:t.name??`Group ${s+1}`,desc:t.desc??"",students:t.students??[]});function vn({jurorStats:t,onPinReset:s}){const[r,a]=l.useState(""),[n,i]=l.useState(""),[c,f]=l.useState(new Set);l.useEffect(()=>{const o=setTimeout(()=>i(r),200);return()=>clearTimeout(o)},[r]);function x(o){f(m=>{const h=new Set(m);return h.has(o)?h.delete(o):h.add(o),h})}const p=l.useMemo(()=>{const o=t.slice().sort((h,j)=>fe(h.jury,j.jury)),m=n.trim().toLowerCase();return m?o.filter(h=>{var j;return h.jury.toLowerCase().includes(m)||(h.dept||((j=h.latestRow)==null?void 0:j.juryDept)||"").toLowerCase().includes(m)}):o},[t,n]);return e.jsxs("div",{className:"jurors-tab-wrap",children:[e.jsx("div",{className:"juror-filter-bar",children:e.jsxs("div",{className:"juror-search-wrap",children:[e.jsx("span",{className:"juror-search-icon","aria-hidden":"true",children:e.jsx(Wt,{})}),e.jsx("input",{className:"juror-search-input",value:r,onChange:o=>a(o.target.value),placeholder:"Search by name or department‚Ä¶"}),r&&e.jsx("button",{className:"juror-search-clear",onClick:()=>a(""),"aria-label":"Clear search",title:"Clear search",children:e.jsx(at,{})})]})}),p.length===0&&e.jsx("div",{className:"empty-msg",children:"No jurors match the current filter."}),e.jsx("div",{className:"jurors-grid jurors-grid-full",children:p.map(o=>{const{key:m,jury:h,rows:j,overall:N,latestRow:w}=o,u=Js(j),S=u===100?"#22c55e":u>66?"#84cc16":u>33?"#eab308":u>0?"#f97316":"#e2e8f0",g=j.some(k=>k.editingFlag==="editing"),b=Nt.map(k=>{const y=j.find(L=>L.projectId===k.id),v=(y==null?void 0:y.status)==="group_submitted"||(y==null?void 0:y.status)==="all_submitted"?"submitted":(y==null?void 0:y.status)||"not_started";return{id:k.id,status:v}}),A=b.length>0&&b.every(k=>k.status==="submitted"),P=g?"juror-card-editing":N==="all_submitted"?"juror-card-all-submitted":N==="in_progress"?"juror-card-in-progress":"";return e.jsxs("div",{className:`juror-card ${P}`,children:[e.jsxs("div",{className:"juror-card-header",children:[e.jsxs("div",{style:{minWidth:0,flex:1},children:[e.jsxs("div",{className:"juror-name",style:{wordBreak:"break-word"},children:[e.jsx("span",{className:"juror-name-icon","aria-hidden":"true",children:e.jsx(Ft,{})}),e.jsxs("span",{className:"juror-name-text",children:[h,(w==null?void 0:w.juryDept)&&e.jsxs("span",{className:"juror-dept-inline",children:[" (",w.juryDept,")"]})]})]}),e.jsx("div",{className:"juror-header-actions",children:g?e.jsx(De,{status:N,editingFlag:"editing"}):A?e.jsx(De,{variant:"completed",icon:e.jsx(Ve,{}),children:"Completed"}):e.jsx(De,{status:N})})]}),e.jsxs("div",{className:"juror-meta",children:[(w==null?void 0:w.timestamp)&&e.jsxs("div",{className:"juror-last-submit",children:[e.jsx("span",{className:"juror-last-submit-label",children:"Last activity"}),e.jsx("span",{className:"juror-last-submit-time",children:Ze(w==null?void 0:w.timestamp)})]}),s&&e.jsx("button",{className:"pin-reset-btn",title:`Reset PIN for ${h}`,onClick:()=>s(h,(w==null?void 0:w.juryDept)||"",(w==null?void 0:w.jurorId)||""),children:"üîë Reset PIN"})]})]}),e.jsxs("div",{className:"juror-progress-wrap",children:[e.jsx("div",{className:"juror-progress-bar-bg",children:e.jsx("div",{className:"juror-progress-bar-fill",style:{width:`${u}%`,background:S}})}),e.jsxs("span",{className:"juror-progress-label",children:[u,"%"]})]}),e.jsx("div",{className:"juror-projects",children:j.slice().sort((k,y)=>k.projectId-y.projectId).map(k=>{var T,Y;const y=Nt.find(z=>z.id===k.projectId),v=`${m}-${k.projectId}`,L=c.has(v),I=`juror-group-panel-${v}`,C=!!(y!=null&&y.desc)||((T=y==null?void 0:y.students)==null?void 0:T.length)>0;return e.jsxs("div",{className:"juror-row-wrap",children:[e.jsxs("div",{className:"juror-row group-accordion-header",role:"button",tabIndex:C?0:-1,"aria-expanded":L,"aria-controls":I,onClick:()=>{C&&x(v)},onKeyDown:z=>{(z.key==="Enter"||z.key===" ")&&C&&(z.preventDefault(),x(v))},style:{cursor:C?"pointer":"default"},children:[e.jsx("div",{className:"juror-row-left",children:e.jsxs("div",{className:"juror-row-header-line",children:[e.jsx("span",{className:"juror-row-name",children:(y==null?void 0:y.name)||`Group ${k.projectId}`}),C&&e.jsx("span",{className:`group-accordion-chevron${L?" open":""}`,children:e.jsx(Pe,{})})]})}),e.jsxs("div",{className:"juror-row-right",children:[k.timestamp&&e.jsxs("span",{className:"juror-row-ts",children:[e.jsx("span",{className:"juror-row-ts-icon","aria-hidden":"true",children:e.jsx(st,{})}),Ze(k.timestamp)]}),e.jsx(De,{status:k.status,editingFlag:k.editingFlag}),(k.status==="all_submitted"||k.status==="group_submitted")&&e.jsx("span",{className:"juror-score",title:"/ 100","aria-label":`${k.total} / 100`,children:k.total})]})]}),e.jsx("div",{id:I,className:`group-accordion-panel${L?" open":""}`,children:e.jsxs("div",{className:"group-accordion-panel-inner juror-accordion-inner",children:[(y==null?void 0:y.desc)&&e.jsxs("span",{className:"juror-row-desc group-card-desc",children:[e.jsx("span",{className:"group-card-desc-icon","aria-hidden":"true",children:e.jsx(Dt,{})}),e.jsx("span",{className:"group-card-desc-text",children:y.desc})]}),((Y=y==null?void 0:y.students)==null?void 0:Y.length)>0&&e.jsxs("span",{className:"juror-row-students group-card-students",children:[e.jsx("span",{className:"group-card-students-icon","aria-hidden":"true",children:e.jsx(Ue,{})}),e.jsx("span",{className:"group-card-students-text",children:y.students.join(" ¬∑ ")})]})]})})]},v)})})]},m)})})]})}const bn=t=>t?t.status==="all_submitted"?{background:"#dcfce7",color:"#166534",fontWeight:700}:t.status==="group_submitted"?{background:"#ecfdf3",color:"#16a34a",fontWeight:600}:t.status==="in_progress"?{background:"#fef9c3",color:"#92400e"}:{background:"#f8fafc",color:"#94a3b8"}:{background:"#f8fafc",color:"#94a3b8"},yn=t=>t?t.status==="all_submitted"||t.status==="group_submitted"?t.total:t.status==="in_progress"?"":"‚Äî":"‚Äî";function kn({data:t,jurors:s,groups:r}){const[a,n]=l.useState(null),[i,c]=l.useState("desc"),[f,x]=l.useState("asc"),[p,o]=l.useState("juror"),[m,h]=l.useState(""),[j,N]=l.useState(null),w=l.useMemo(()=>{const v={};return t.forEach(L=>{const I=L.jurorId?L.jurorId:`${(L.juryName||"").trim().toLowerCase()}__${(L.juryDept||"").trim().toLowerCase()}`;v[I]||(v[I]={}),v[I][L.projectId]={total:L.total,status:L.status,editingFlag:L.editingFlag}}),v},[t]);function u(v){a!==v?(n(v),c("desc"),o("group")):i==="desc"?(c("asc"),o("group")):(n(null),c("desc"),o("group"))}const S=v=>p!=="group"||a!==v?e.jsx(Tt,{}):i==="desc"?e.jsx(Rt,{}):e.jsx(_t,{});function g(){p!=="juror"?(o("juror"),x("asc")):x(v=>v==="asc"?"desc":"asc")}const b=l.useMemo(()=>{let v=s.slice().sort((L,I)=>fe(L.name,I.name));if(m){const L=m.toLowerCase();v=v.filter(I=>I.name.toLowerCase().includes(L))}return p==="juror"&&(v=v.slice().sort((L,I)=>f==="asc"?fe(L.name,I.name):fe(I.name,L.name))),p==="group"&&a!==null&&(v=[...v].sort((L,I)=>{var q,ee;const C=(q=w[L.key])==null?void 0:q[a],T=(ee=w[I.key])==null?void 0:ee[a],Y=(C==null?void 0:C.status)==="all_submitted"?Number(C.total):null,z=(T==null?void 0:T.status)==="all_submitted"?Number(T.total):null;if(Y===null&&z===null)return fe(L.name,I.name);if(Y===null)return 1;if(z===null)return-1;const re=i==="desc"?z-Y:Y-z;return re!==0?re:fe(L.name,I.name)})),v},[s,m,a,i,p,f,w]),A=v=>{const L=r.map(I=>{var Y;const C=(Y=w[v])==null?void 0:Y[I.id];return{status:(C==null?void 0:C.status)==="group_submitted"||(C==null?void 0:C.status)==="all_submitted"?"submitted":(C==null?void 0:C.status)||"not_started",editing:(C==null?void 0:C.editingFlag)==="editing"}});return L.every(I=>I.status==="not_started")?"not_started":L.some(I=>I.editing)?"editing":L.every(I=>I.status==="submitted")?"completed":L.some(I=>I.status==="in_progress")?"in_progress":L.some(I=>I.status==="submitted")?"submitted":"not_started"},P={completed:"Completed",submitted:"Submitted",in_progress:"In Progress",editing:"Editing",not_started:"Not Started"},k={completed:e.jsx(Ve,{}),submitted:e.jsx(Qe,{}),in_progress:e.jsx($e,{}),editing:e.jsx(Oe,{}),not_started:e.jsx(gt,{})},y=l.useMemo(()=>r.map(v=>{const L=b.map(I=>{var C;return(C=w[I.key])==null?void 0:C[v.id]}).filter(I=>(I==null?void 0:I.status)==="all_submitted").map(I=>I.total);return L.length?(L.reduce((I,C)=>I+C,0)/L.length).toFixed(2):null}),[b,r,w]);return s.length?e.jsxs("div",{className:"matrix-wrap",children:[e.jsxs("div",{className:"matrix-subtitle",children:[e.jsx("div",{className:"matrix-legend-row legend-scroll-row",children:e.jsxs("div",{className:"matrix-legend-scroll","aria-label":"Cells legend",children:[e.jsx("span",{className:"matrix-legend-label",children:"Cells"}),e.jsxs("span",{className:"matrix-legend-item",children:[e.jsx("span",{className:"matrix-legend-dot completed-dot"}),"Completed"]}),e.jsxs("span",{className:"matrix-legend-item",children:[e.jsx("span",{className:"matrix-legend-dot submitted-dot"}),"Submitted"]}),e.jsxs("span",{className:"matrix-legend-item",children:[e.jsx("span",{className:"matrix-legend-dot progress-dot"}),"In Progress"]}),e.jsxs("span",{className:"matrix-legend-item",children:[e.jsx("span",{className:"matrix-legend-dot empty-dot"}),"Not Started"]})]})}),e.jsx("div",{className:"matrix-legend-row matrix-icon-legend legend-scroll-row",children:e.jsxs("div",{className:"matrix-legend-scroll","aria-label":"Juror legend",children:[e.jsx("span",{className:"matrix-legend-label",children:"Juror"}),e.jsxs("span",{className:"matrix-icon-legend-item",children:[e.jsx("span",{className:"matrix-status-icon completed",children:e.jsx(Ve,{})}),"Completed"]}),e.jsxs("span",{className:"matrix-icon-legend-item",children:[e.jsx("span",{className:"matrix-status-icon editing",children:e.jsx(Oe,{})}),"Editing"]}),e.jsxs("span",{className:"matrix-icon-legend-item",children:[e.jsx("span",{className:"matrix-status-icon in_progress",children:e.jsx($e,{})}),"In Progress"]}),e.jsxs("span",{className:"matrix-icon-legend-item",children:[e.jsx("span",{className:"matrix-status-icon not_started",children:e.jsx(gt,{})}),"Not Started"]})]})}),b.length<s.length&&e.jsxs("span",{className:"matrix-legend-count",children:["Showing ",b.length,"/",s.length," jurors"]})]}),j!==null&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:50},onClick:()=>N(null)}),e.jsx("div",{className:"matrix-scroll-wrap",children:e.jsx("div",{className:"matrix-scroll",children:e.jsxs("table",{className:"matrix-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{className:"matrix-corner",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx("span",{className:`col-sort-label${m||j==="juror"?" filtered":""}`,onClick:g,children:"Juror / Group"}),e.jsx("button",{className:`col-filter-hotspot${m||j==="juror"?" active filter-icon-active":""}`,onClick:v=>{v.stopPropagation(),N(L=>L==="juror"?null:"juror")},title:"Filter jurors",children:e.jsx(ke,{})})]}),j==="juror"&&e.jsx("div",{className:"col-filter-popover",onClick:v=>v.stopPropagation(),children:e.jsxs("div",{className:`matrix-filter-input${m||j==="juror"?" filter-active-box":""}`,children:[e.jsx("input",{autoFocus:!0,placeholder:"Filter juror name‚Ä¶",value:m,onChange:v=>h(v.target.value),className:m||j==="juror"?"filter-input-active":""}),m&&e.jsx("button",{className:"matrix-filter-clear",onClick:()=>h(""),"aria-label":"Clear filter",title:"Clear filter",children:e.jsx(at,{})})]})})]}),r.map(v=>{const L=a===v.id;return e.jsx("th",{children:e.jsxs("button",{className:`matrix-col-sort${L?" active":""}`,onClick:()=>u(v.id),title:`Sort by ${v.label}`,children:[e.jsx("strong",{children:v.label}),e.jsx("span",{className:"sort-icon",children:S(v.id)})]})},v.id)})]})}),e.jsx("tbody",{children:b.map(v=>e.jsxs("tr",{children:[e.jsx("td",{className:"matrix-juror",children:(()=>{const L=A(v.key),I=v.dept?`${v.name} (${v.dept})`:v.name;return e.jsxs(e.Fragment,{children:[e.jsx("span",{className:`matrix-status-icon ${L}`,title:P[L],"aria-hidden":"true",children:k[L]}),e.jsx("span",{className:"matrix-juror-name",title:I,children:e.jsxs("span",{className:"matrix-juror-name-scroll",children:[v.name,v.dept&&e.jsxs("span",{className:"matrix-juror-dept",children:[" (",v.dept,")"]})]})})]})})()}),r.map(L=>{var C;const I=((C=w[v.key])==null?void 0:C[L.id])??null;return e.jsx("td",{style:bn(I),children:yn(I)},L.id)})]},v.key))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"matrix-avg-row",children:[e.jsx("td",{className:"matrix-juror matrix-avg-label",children:"Average"}),y.map((v,L)=>e.jsx("td",{className:"matrix-avg-cell",children:v!==null?v:"‚Äî"},r[L].id))]})})]})})}),e.jsxs("p",{className:"matrix-info-note",children:[e.jsx(nt,{})," Averages include only ",e.jsx("strong",{children:"completed"})," submissions."]})]}):e.jsx("div",{className:"empty-msg",children:"No data yet."})}const Xe=K.map((t,s)=>typeof t=="string"?{id:s+1,name:t,desc:"",students:[]}:{id:t.id??s+1,name:t.name??`Group ${s+1}`,desc:t.desc??"",students:t.students??[]}),Nn=ne.map(t=>({id:t.id,label:t.label,shortLabel:t.shortLabel,max:t.max})),Ye=Xe.length;function Ie(t){if(t===""||t===null||t===void 0||typeof t=="string"&&t.trim()==="")return"";const s=Number(String(t??"").trim().replace(/^"+|"+$/g,"").replace(",","."));return Number.isFinite(s)?s:""}const wn=[{id:"summary",label:"Summary",icon:vs},{id:"dashboard",label:"Dashboard",icon:Bt},{id:"detail",label:"Details",icon:rt},{id:"jurors",label:"Jurors",icon:Ft},{id:"matrix",label:"Matrix",icon:bs}];function Sn({metrics:t,id:s}){const{completedJurors:r,totalJurors:a,completedEvaluations:n,totalEvaluations:i,inProgressJurors:c,editingJurors:f}=t,x=Number.isFinite(a)?Math.max(0,a):0,p=Number.isFinite(r)?Math.min(Math.max(0,r),x):0,o=Number.isFinite(c)?Math.max(0,c):0,m=Number.isFinite(f)?Math.max(0,f):0,h=Number.isFinite(i)?Math.max(0,i):0,j=Number.isFinite(n)?Math.min(Math.max(0,n),h):0,N=x===0&&p===0&&o===0&&m===0,w=N?"empty":o===0&&m===0?"completed":"inprogress",u=h===0?"empty":j===h?"completed":"inprogress",S=b=>N?"‚Äî":b,g=h===0?"‚Äî":`${j}/${h}`;return e.jsxs("div",{id:s,className:"results-status-bar",role:"group","aria-label":"Results status metrics",children:[e.jsxs("span",{className:`status-chip status-chip--${w}`,"aria-label":`Jurors: total ${x}, completed ${p}, in progress ${o}, editing ${m}`,children:[e.jsxs("span",{className:"status-block",children:[e.jsx($t,{}),e.jsx("span",{className:"status-value",children:S(x)})]}),e.jsx("span",{className:"status-sep","aria-hidden":"true",children:"¬∑"}),e.jsxs("span",{className:"status-block",children:[e.jsx(js,{}),e.jsx("span",{className:"status-value",children:S(p)})]}),e.jsx("span",{className:"status-sep","aria-hidden":"true",children:"¬∑"}),e.jsxs("span",{className:"status-block",children:[e.jsx($e,{}),e.jsx("span",{className:"status-value",children:S(o)})]}),e.jsx("span",{className:"status-sep","aria-hidden":"true",children:"¬∑"}),e.jsxs("span",{className:"status-block",children:[e.jsx(Oe,{}),e.jsx("span",{className:"status-value",children:S(m)})]})]}),e.jsx("span",{className:`status-chip status-chip--${u}`,"aria-label":`Evaluated: ${j} out of ${h}`,children:e.jsxs("span",{className:"status-block",children:[e.jsx(gs,{}),e.jsx("span",{className:"status-value",children:g})]})})]})}function Cn({adminPass:t,onBack:s,onAuthError:r,onInitialLoadDone:a}){const[n,i]=l.useState([]),[c,f]=l.useState(!0),[x,p]=l.useState(""),[o,m]=l.useState(""),[h,j]=l.useState(!0),[N,w]=l.useState("summary"),[u,S]=l.useState(null),[g,b]=l.useState(!1),[A,P]=l.useState(!1),[k,y]=l.useState(!1),v=l.useRef(null),[L,I]=l.useState(null),[C,T]=l.useState(""),Y=l.useRef(!1),z=l.useRef(t);l.useEffect(()=>{z.current=t},[t]);const re=async()=>{f(!0),p("");try{const M=z.current||sessionStorage.getItem("ee492_admin_pass")||"";if(!M){i([]),m("Enter the admin password to load results.");return}const $=await Se({action:"export",pass:M});if(($==null?void 0:$.status)==="unauthorized"){if(i([]),r){r("Invalid password");return}m("Incorrect password.");return}if(($==null?void 0:$.status)!=="ok"||!Array.isArray($==null?void 0:$.rows))throw new Error("Unexpected response format.");try{sessionStorage.setItem("ee492_admin_pass",M)}catch{}const V=$.rows.map(H=>({juryName:String(H["Juror Name"]??H["Your Name"]??""),juryDept:String(H["Department / Institution"]??H.Department??""),timestamp:H.Timestamp||"",tsMs:Ge(H.Timestamp||""),projectId:Rs(H["Group No"]),projectName:String(H["Group Name"]??""),jurorId:String(H["Juror ID"]??""),technical:Ie(H["Technical (30)"]),design:Ie(H["Written (30)"]),delivery:Ie(H["Oral (30)"]),teamwork:Ie(H["Teamwork (10)"]),total:Ie(H["Total (100)"]),comments:H.Comments||"",status:String(H.Status??"all_submitted"),editingFlag:String(H.EditingFlag??"")}));i(Gs(V)),S(new Date),m(""),Y.current||(Y.current=!0,a==null||a())}catch(M){if(r){r("Connection error ‚Äî try again.");return}p("Could not load data: "+M.message),i([])}finally{f(!1)}};l.useEffect(()=>{re()},[]),l.useEffect(()=>{},[]);const q=()=>{const M=v.current;if(!M)return;const $=M.scrollWidth-M.clientWidth,V=$>2;if(b(V),!V){P(!1),y(!1);return}const H=M.scrollLeft>4,B=M.scrollLeft<$-4;P(H),y(B)};l.useEffect(()=>(q(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)),[N,h]),l.useEffect(()=>(L?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[L]);const ee=async(M,$,V)=>{I({juryName:M,juryDept:$}),T("loading");try{const H=z.current||sessionStorage.getItem("ee492_admin_pass")||"",B=await Se({action:"resetPin",jurorId:V.trim(),pass:H});T(B.status==="ok"?"ok":"error")}catch{T("error")}setTimeout(()=>{I(null),T("")},3e3)},G=M=>M.jurorId?M.jurorId:`${(M.juryName||"").trim().toLowerCase()}__${(M.juryDept||"").trim().toLowerCase()}`,se=l.useMemo(()=>{const M=new Map;return n.forEach($=>{if(!$.juryName)return;const V=G($);M.has(V)||M.set(V,{key:V,name:$.juryName.trim(),dept:$.juryDept.trim(),jurorId:$.jurorId})}),[...M.values()].sort(($,V)=>fe($.name,V.name))},[n]),xe=l.useMemo(()=>Xe.map(M=>({id:M.id,label:`Group ${M.id}`,desc:M.desc||""})).sort((M,$)=>M.id-$.id),[]),ve=l.useMemo(()=>{const M=new Map;return se.forEach(({key:$,dept:V})=>M.set($,V)),M},[se]),ue=l.useMemo(()=>{const M=new Map;return se.forEach(({key:$,name:V})=>M.set($,{bg:Bs(V),dot:Ws(V)})),M},[se]),ae=l.useMemo(()=>n.filter(M=>M.status==="all_submitted"),[n]),oe=l.useMemo(()=>n.filter(M=>M.status==="group_submitted"||M.status==="all_submitted"),[n]),te=l.useMemo(()=>Xe.map(M=>{const $=ae.filter(B=>B.projectId===M.id);if(!$.length)return{id:M.id,name:M.name,desc:M.desc,students:M.students,count:0,avg:{},totalAvg:0,totalMin:0,totalMax:0};const V={};Nn.forEach(B=>{V[B.id]=$.reduce((d,F)=>d+(F[B.id]||0),0)/$.length});const H=$.map(B=>B.total);return{id:M.id,name:M.name,desc:M.desc,students:M.students,count:$.length,avg:V,totalAvg:H.reduce((B,d)=>B+d,0)/H.length,totalMin:Math.min(...H),totalMax:Math.max(...H)}}),[ae]),le=l.useMemo(()=>te.map(M=>({...M,name:`Group ${M.id}`})),[te]),de=l.useMemo(()=>[...te].sort((M,$)=>$.totalAvg-M.totalAvg),[te]),Ne=l.useMemo(()=>se.map(({key:M,name:$,dept:V,jurorId:H})=>{const B=n.filter(X=>G(X)===M),d=B.filter(X=>X.status==="group_submitted"||X.status==="all_submitted"),F=B.filter(X=>X.status==="all_submitted"),W=B.filter(X=>X.status==="in_progress"),_=B.reduce((X,he)=>he.tsMs>X?he.tsMs:X,0),Q=B.find(X=>X.tsMs===_)||B[0],Z=F.length===Ye?"all_submitted":d.length>0||W.length>0?"in_progress":"not_started";return{key:M,jury:$,dept:V,jurorId:H,rows:B,submitted:d,completed:d,finalSubmitted:F,inProgress:W,latestTs:_,latestRow:Q,overall:Z}}),[se,n]);n.filter(M=>M.status==="in_progress").length,Ne.filter(M=>M.rows.some($=>$.editingFlag==="editing")).length;const je=l.useMemo(()=>{const M=se.length,$=oe.length,V=M*Ye,H=new Map;n.forEach(Q=>{if(Q.status!=="all_submitted")return;const Z=G(Q);H.has(Z)||H.set(Z,new Set),H.get(Z).add(Q.projectId)});const B=se.filter(Q=>{var Z;return(((Z=H.get(Q.key))==null?void 0:Z.size)||0)>=Ye}).length,d=new Set(n.filter(Q=>Q.status==="editing"||Q.editingFlag==="editing").map(Q=>G(Q))),W=new Set(n.filter(Q=>Q.status==="in_progress").map(Q=>G(Q)).filter(Q=>!d.has(Q))).size,_=d.size;return{completedJurors:B,totalJurors:M,completedEvaluations:$,totalEvaluations:V,inProgressJurors:W,editingJurors:_}},[n,ae,oe,se,G]);l.useEffect(()=>{if(u)try{sessionStorage.setItem("ee492_home_meta",JSON.stringify({totalJurors:je.totalJurors,completedJurors:je.completedJurors,lastUpdated:u.toISOString()}))}catch{}},[je.totalJurors,je.completedJurors,u]);const ce=u?new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Istanbul",day:"2-digit",month:"2-digit",year:"numeric"}).format(u):"",me=u?new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Istanbul",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(u):"";return e.jsxs("div",{className:"admin-screen",children:[e.jsxs("div",{className:"form-header",children:[e.jsxs("div",{className:"form-header-main",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("button",{className:"back-btn",onClick:s,"aria-label":"Back to home",children:e.jsx(Je,{})}),e.jsx("div",{className:"header-title",children:e.jsxs("div",{className:"results-title-row",children:[e.jsx("h2",{children:"Results Panel"}),e.jsx("button",{className:"results-toggle",type:"button","aria-label":h?"Hide status metrics":"Show status metrics","aria-expanded":h,"aria-controls":"results-status-bar",onClick:()=>j(M=>!M),children:e.jsx("span",{className:`results-toggle-icon${h?" open":""}`,"aria-hidden":"true",children:e.jsx(Pe,{})})})]})})]}),e.jsxs("div",{className:"header-right",children:[u&&e.jsxs("span",{className:"last-updated",children:[e.jsx(st,{}),e.jsxs("span",{className:"last-updated-text",children:[e.jsx("span",{className:"last-updated-date",children:ce}),e.jsx("span",{className:"last-updated-time",children:me})]})]}),e.jsx("button",{className:`refresh-btn${c?" is-loading":""}`,onClick:re,"aria-label":"Refresh",title:"Refresh",children:e.jsx(ks,{})})]})]}),h&&e.jsx(Sn,{id:"results-status-bar",metrics:je}),e.jsxs("div",{className:"tab-bar-wrap",children:[e.jsx("div",{className:"tab-bar",ref:v,onScroll:q,children:wn.map(M=>e.jsxs("button",{className:`tab ${N===M.id?"active":""}`,onClick:()=>w(M.id),children:[e.jsx(M.icon,{}),M.label]},M.id))}),g&&e.jsxs("div",{className:"tab-hints","aria-hidden":"true",children:[e.jsx("span",{className:`tab-fade left${A?"":" is-hidden"}`}),e.jsx("span",{className:`tab-fade right${k?"":" is-hidden"}`}),e.jsx("span",{className:`tab-hint left${A?"":" is-hidden"}`,children:e.jsx(Ot,{})}),e.jsx("span",{className:`tab-hint right${k?"":" is-hidden"}`,children:e.jsx(zt,{})})]})]})]}),c&&e.jsx("div",{className:"loading",children:"Loading data‚Ä¶"}),x&&e.jsx("div",{className:"error-msg",children:x}),o&&e.jsx("div",{className:"error-msg",children:o}),L&&e.jsx("div",{className:"pin-reset-modal-overlay",children:e.jsxs("div",{className:`pin-reset-modal-card ${C}`,children:[C==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pin-reset-modal-icon",children:"üîë"}),e.jsxs("div",{className:"pin-reset-modal-msg",children:["Resetting PIN for ",e.jsx("strong",{children:L.juryName}),"‚Ä¶"]})]}),C==="ok"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pin-reset-modal-icon ok",children:"‚úÖ"}),e.jsxs("div",{className:"pin-reset-modal-msg",children:["PIN reset. ",e.jsx("strong",{children:L.juryName})," will receive a new PIN on next login."]})]}),C==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pin-reset-modal-icon error",children:"‚ùå"}),e.jsxs("div",{className:"pin-reset-modal-msg",children:["Could not reset PIN for ",e.jsx("strong",{children:L.juryName}),"."]})]})]})}),!c&&!x&&!o&&e.jsxs("div",{className:"admin-body",children:[N==="summary"&&e.jsx(Vs,{ranked:de,submittedData:ae}),N==="dashboard"&&e.jsx(pn,{dashboardStats:le,submittedData:ae,lastRefresh:u,loading:c,error:x}),N==="detail"&&e.jsx(gn,{data:n,jurors:se,jurorColorMap:ue}),N==="jurors"&&e.jsx(vn,{jurorStats:Ne,jurors:se,onPinReset:ee}),N==="matrix"&&e.jsx(kn,{data:n,jurors:se,groups:xe,jurorDeptMap:ve})]})]})}const Ln="/senior-design-jury/assets/tedu-logo-c1977d2a.png";function Mn(){const[t,s]=l.useState("home"),r=l.useRef(""),[a,n]=l.useState(!1),[i,c]=l.useState(!1),[f,x]=l.useState(""),[p,o]=l.useState(""),[m,h]=l.useState(!1),[j,N]=l.useState(()=>{try{return JSON.parse(sessionStorage.getItem("ee492_home_meta")||"null")}catch{return null}});l.useEffect(()=>{if(t==="home")try{N(JSON.parse(sessionStorage.getItem("ee492_home_meta")||"null"))}catch{N(null)}},[t]);const w=K.length,u=Number.isFinite(w)?Math.max(0,w):0,S=Number(j==null?void 0:j.totalJurors),g=Number(j==null?void 0:j.completedJurors),b=Number.isFinite(S)?Math.max(0,S):0,A=Number.isFinite(g)?Math.min(Math.max(0,g),b):0,P=b>0,k=P&&A>=b,y=P?k?"completed":"inprogress":"empty",v=j!=null&&j.lastUpdated?new Date(j.lastUpdated):null,L=!!v&&Number.isFinite(v.getTime()),I=L?new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Istanbul",day:"2-digit",month:"short"}).format(v):"‚Äî",C=L?new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Istanbul",hour:"2-digit",minute:"2-digit",hour12:!1}).format(v):"‚Äî",T=P?`${A}/${b}`:"‚Äî",Y=u>0?String(u):"‚Äî";function z(){const q=f.trim();if(!q){o("Please enter the admin password.");return}r.current=q,x(""),o(""),c(!0),n(!0)}function re(q){n(!1),c(!1),r.current="",o(q||"Authentication failed.")}return t==="jury"?e.jsx(Ds,{onBack:()=>s("home")}):t==="admin"?a?e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:"admin-checking-overlay",children:e.jsxs("div",{className:"admin-checking-card",children:[e.jsx("div",{className:"admin-checking-icon","aria-hidden":"true",children:e.jsx(Ns,{})}),e.jsxs("div",{className:"admin-checking-msg",children:["Checking access",e.jsxs("span",{className:"admin-checking-dots","aria-hidden":"true",children:[e.jsx("span",{children:"."}),e.jsx("span",{children:"."}),e.jsx("span",{children:"."})]})]}),e.jsx("div",{className:"admin-checking-sub",children:"Secure session validation in progress"})]})}),e.jsx(Cn,{adminPass:r.current,onAuthError:re,onInitialLoadDone:()=>c(!1),onBack:()=>{s("home"),n(!1),c(!1),o(""),r.current=""}})]}):e.jsx("div",{className:"lock-screen",children:e.jsxs("div",{className:"lock-card",children:[e.jsx("div",{className:"lock-icon","aria-hidden":"true",children:e.jsx(It,{})}),e.jsx("h2",{className:"lock-title",children:"Results Panel"}),e.jsx("p",{className:"lock-subtitle",children:"Enter the admin password to view results"}),e.jsxs("div",{className:"lock-input-wrap",children:[e.jsx("input",{type:m?"text":"password",placeholder:"Admin password",value:f,onChange:q=>{x(q.target.value),p&&o("")},onKeyDown:q=>{q.key==="Enter"&&z()},autoComplete:"current-password",autoFocus:!0}),e.jsx("button",{type:"button",className:"lock-toggle",onClick:()=>h(q=>!q),"aria-label":m?"Hide password":"Show password",title:m?"Hide password":"Show password",children:m?e.jsx(ps,{}):e.jsx(hs,{})})]}),p&&e.jsxs("div",{className:"login-error",role:"alert",children:[e.jsx(At,{}),e.jsx("span",{children:p})]}),e.jsx("button",{className:"btn-primary lock-login-btn",onClick:z,disabled:i,children:"Login"}),e.jsx("button",{className:"lock-back-btn",onClick:()=>{s("home"),o("")},children:"‚Üê Back to Home"}),e.jsx("div",{className:"lock-footnote",children:"Admin Access ‚Ä¢ Restricted"})]})}):e.jsxs("div",{className:"home",children:[e.jsx("div",{className:"home-bg"}),e.jsxs("div",{className:"home-card",children:[e.jsx("div",{className:"home-logo-wrap",children:e.jsx("img",{className:"home-logo",src:Ln,alt:"TED University",loading:"eager"})}),e.jsx("h1",{children:"Senior Project Jury Portal"}),e.jsxs("p",{className:"home-sub",children:["TED University ",e.jsx("br",{}),"Dept. of Electrical & Electronics Engineering"]}),e.jsx("div",{className:"home-meta",children:e.jsxs("span",{className:`home-meta-pill home-meta-pill--${y}`,children:[e.jsxs("span",{className:"home-meta-block",children:[e.jsx("span",{className:"home-meta-icon","aria-hidden":"true",children:e.jsx($t,{})}),e.jsx("span",{className:"home-meta-value",children:T})]}),e.jsxs("span",{className:"home-meta-block",children:[e.jsx("span",{className:"home-meta-sep",children:"¬∑"}),e.jsx("span",{className:"home-meta-icon","aria-hidden":"true",children:e.jsx(xs,{})}),e.jsx("span",{className:"home-meta-value",children:Y})]}),e.jsxs("span",{className:"home-meta-block",children:[e.jsx("span",{className:"home-meta-sep",children:"¬∑"}),e.jsx("span",{className:"home-meta-icon","aria-hidden":"true",children:e.jsx(st,{})}),e.jsx("span",{className:"home-meta-time",children:I}),e.jsx("span",{className:"home-meta-sep",children:"¬∑"}),e.jsx("span",{className:"home-meta-time",children:C})]})]})}),e.jsxs("div",{className:"home-buttons",children:[e.jsxs("button",{className:"btn-primary big home-primary-btn",onClick:()=>s("jury"),children:[e.jsx("span",{className:"home-btn-icon","aria-hidden":"true",children:e.jsx(rt,{})}),"Evaluation Form"]}),e.jsxs("button",{className:"btn-outline big home-secondary-btn",onClick:()=>s("admin"),children:[e.jsx("span",{className:"home-btn-icon","aria-hidden":"true",children:e.jsx(Bt,{})}),"View Results"]})]}),e.jsxs("div",{className:"home-info",children:[e.jsx("span",{className:"home-info-icon","aria-hidden":"true",children:e.jsx(nt,{})}),e.jsxs("span",{children:["Use the ",e.jsx("strong",{children:"Evaluation Form"})," to score each project group."]})]}),e.jsxs("div",{className:"home-footer",children:["¬© 2026 ¬∑ Developed by"," ",e.jsx("a",{className:"home-footer-link",href:"https://huguryildiz.com",target:"_blank",rel:"noopener noreferrer",children:"Huseyin Ugur Yildiz"})," ","¬∑ v1.0"]})]})]})}qe.createRoot(document.getElementById("root")).render(e.jsx(Vt.StrictMode,{children:e.jsx(Mn,{})}));
